<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>MyRealBook</title>
    <link href="https://myrealbook.vintherine.org/feed.xml" rel="self" />
    <link href="https://myrealbook.vintherine.org" />
    <updated>2022-03-25T10:52:54+01:00</updated>
    <author>
        <name>Vincent</name>
    </author>
    <id>https://myrealbook.vintherine.org</id>

    <entry>
        <title>NumÃ©rotation des pages</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/numerotation-des-pages.html"/>
        <id>https://myrealbook.vintherine.org/numerotation-des-pages.html</id>

        <updated>2022-03-15T14:25:33+01:00</updated>
            <summary>
                <![CDATA[
                    <p>Contrairement Ã  l'Ã©dition papier le nombre de page d'une Ã©dition numÃ©rique (lecture sur tablette par ex.) n'est pas immÃ©diatement visible. La maniÃ¨re la plus simple me paraÃ®t Ãªtre d'utiliser la numÃ©rotation des pages sous la forme x/n oÃ¹ x est le numÃ©ro de la page en cours et n le nombre total de pages. Cela n'est pas prÃ©vu par dÃ©faut par Lilypond mais peut se contourner de la maniÃ¨re suivante.</p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Contrairement Ã  l'Ã©dition papier le nombre de page d'une Ã©dition numÃ©rique (lecture sur tablette par ex.) n'est pas immÃ©diatement visible. La maniÃ¨re la plus simple me paraÃ®t Ãªtre d'utiliser la numÃ©rotation des pages sous la forme x/n oÃ¹ x est le numÃ©ro de la page en cours et n le nombre total de pages. Cela n'est pas prÃ©vu par dÃ©faut par Lilypond mais peut se contourner de la maniÃ¨re suivante.</p>

<p><strong>Tout d'abord</strong> mettre un label Ã  la toute fin de la partition (<code>\label #'theLastPage</code> par exemple). C'est le seul moyen de connaitre le nombre total de pages (<code>\page-ref #'theLastPage</code>).</p>
<p><strong>Ensuite</strong> ajouter les lignes suivantes dans le bloc paper</p>
<pre><code> \paper {</code><br><code> oddHeaderMarkup = \markup {</code><br><code>Â  Â  \on-the-fly \print-page-number-check-first {</code><br><code>Â  Â  Â  \fill-line { \null \concat { \fromproperty #'page:page-number-string "/" \page-ref #'theLastPage "0" "?"} }</code><br><code>Â  } }</code><br><code>Â  evenHeaderMarkup = \markup {</code><br><code>Â  Â  \on-the-fly \print-page-number-check-first {</code><br><code>Â  Â  Â  \fill-line { \concat { \fromproperty #'page:page-number-string "/" \page-ref #'theLastPage "0" "?"} \null }</code><br><code>Â  } } }</code></pre>
<p>la condition <code>\on-the-fly \print-page-number-check-first</code> vÃ©rifie que impression du numÃ©ro de page doit se faire y compris pour la premiÃ¨re page, ce qui n'estÂ  pas l'option par dÃ©faut. <strong>Donc</strong> dans les books ou bookparts concernÃ©s rajouter</p>
<pre>Â  <code>\paper {</code><br><code>Â  Â print-first-page-number = ##t</code><br><code>Â  }</code></pre>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/29//BeginTheBeguine.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/29//responsive/BeginTheBeguine-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/29//responsive/BeginTheBeguine-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/29//responsive/BeginTheBeguine-md.png 768w"  alt="" width="543" height="209"></figure>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Grille harmonique</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/grille-harmonique.html"/>
        <id>https://myrealbook.vintherine.org/grille-harmonique.html</id>

        <updated>2022-03-25T10:52:54+01:00</updated>
            <summary>
                <![CDATA[
                    <p>La grille harmonique (voir sur <a title="https://fr.wikipedia.org/wiki/Grille_harmonique">WikipÃ©dia</a>) est paraÃ®t-il une spÃ©cificitÃ© du jazz franÃ§ais. Elle m'est souvent rÃ©clamÃ©e par la section rythmique qui la trouve plus facile Ã  lire qu'une ligne d'accords au dessus d'une portÃ©e.Â </p>
<p>Voici les divisions que j'utilise (mesures Ã  4 temps, les chiffres dans les case indiquant l'ordre de lecture)</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/28//ordreAccords-2.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/28//responsive/ordreAccords-2-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/28//responsive/ordreAccords-2-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/28//responsive/ordreAccords-2-md.png 768w"  alt="" width="792" height="202"></figure>
<p>Jusqu'Ã  ce jour le code Lilypond utilisÃ© pour produire ce genre de grille tenait franchement de la bidouille et il fallait souvent mettre les mains dans le cambouis pour produire un rÃ©sultat Ã  peu prÃ¨s prÃ©sentable. Je me suis donc dÃ©cidÃ© Ã  re-porter ce problÃ¨me sur la liste francophone des utilisateurs de Lilypond. <a title="https://lists.gnu.org/archive/html/lilypond-user-fr/2022-03/msg00014.html">Le fil de la discussion</a>.</p>
<p>Avec l'aide dÃ©cisive de Jean, notre dÃ©veloppeur en chef, je dispose enfin d'un code propre et lisible.</p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>La grille harmonique (voir sur <a title="https://fr.wikipedia.org/wiki/Grille_harmonique">WikipÃ©dia</a>) est paraÃ®t-il une spÃ©cificitÃ© du jazz franÃ§ais. Elle m'est souvent rÃ©clamÃ©e par la section rythmique qui la trouve plus facile Ã  lire qu'une ligne d'accords au dessus d'une portÃ©e.Â </p>
<p>Voici les divisions que j'utilise (mesures Ã  4 temps, les chiffres dans les case indiquant l'ordre de lecture)</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/28//ordreAccords-2.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/28//responsive/ordreAccords-2-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/28//responsive/ordreAccords-2-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/28//responsive/ordreAccords-2-md.png 768w"  alt="" width="792" height="202"></figure>
<p>Jusqu'Ã  ce jour le code Lilypond utilisÃ© pour produire ce genre de grille tenait franchement de la bidouille et il fallait souvent mettre les mains dans le cambouis pour produire un rÃ©sultat Ã  peu prÃ¨s prÃ©sentable. Je me suis donc dÃ©cidÃ© Ã  re-porter ce problÃ¨me sur la liste francophone des utilisateurs de Lilypond. <a title="https://lists.gnu.org/archive/html/lilypond-user-fr/2022-03/msg00014.html">Le fil de la discussion</a>.</p>
<p>Avec l'aide dÃ©cisive de Jean, notre dÃ©veloppeur en chef, je dispose enfin d'un code propre et lisible.</p>

<p>Voici un exemple minimal avec reprise alternative :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/28//DemoChordGrid.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/28//responsive/DemoChordGrid-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/28//responsive/DemoChordGrid-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/28//responsive/DemoChordGrid-md.png 768w"  alt="" width="783" height="285"></figure>
<p>Tout d'abord il est nÃ©cessaire d'enregistrer et d'inclure la fonction codÃ©e par Jean, modifiÃ©e par mes soinsÂ  pour augmenter la taille des cases, tÃ©lÃ©chargeable <a href="https://acloud.zaclys.com/index.php/s/SJeiZD7oxbn8G62">depuis mon cloud</a>.Â </p>
<p>Pour l'inclure reportez vous <a href="https://lilypond.org/doc/v2.22/Documentation/notation/including-lilypond-files.html">Ã  cette page</a> ou, si vous utilisez Frescobaldi, sauvegardez le dans un rÃ©pertoire que vous aurez prÃ©alablement dÃ©signÃ© comme rÃ©pertoire d'inclusion. Voir <a href="https://frescobaldi.org/uguide.fr.html#help_preferences_lilypond">le manuel en ligne</a>.Â </p>
<p>La grille est dÃ©crite Ã  la maniÃ¨re d'un <a href="https://lilypond.org/doc/v2.22/Documentation/notation/chord-mode">chordmode</a> en intÃ©grant les sauts de ligne (<code>\break</code>) : mÃªme nombre de cases par ligne, en principe 4.Â  Jean s'est bien proposÃ© de coder un saut automatique mais d'une part cela ne fonctionne pas encore et d'autre part cela n'est pas bien pÃ©nible de saisir un <code>\break</code> manuellementÂ </p>
<p>Pour les reprises alternatives, comme vous pouvez le voir ci-dessus, l'idÃ©e est de faire une ligne reprÃ©sentant la 2Ã¨me alternative en n'affichant que la ou les mesure(s) diffÃ©renciÃ©e(s). Pour ne pas faire de cases vides on remplace les autres par des <code>s1 </code>(silences invisibles) et des <code>\bar ""</code> (barres invisibles) entourÃ©s d'un <code>\stopStaff </code>et d'un <code>\startStaff</code></p>
<p>Voici le code de l'exemple ci-dessus</p>
<pre><code>\version "2.22.2"</code><br><code>\include "jazzchords.ily"    % Si vous utilisez Lilyjazz</code><br><code>\include "lilyjazz.ily"Â  Â  Â  % Si vous utilisez Lilyjazz</code><br><code>\include "chord-grid-JAS.ly" % la fonction codÃ©e par Jean Abou-Samra</code><br><br><code>#(set-global-staff-size 18)</code><br><br><code>\paper {</code><br><code>Â  #(set-paper-size "a4")</code><br><code>Â  indent = 0</code><br><code>}</code><br><br><code>\layout {</code><br><code>Â  \context {</code><br><code>Â  Â  \Score</code><br><code>Â  Â  startRepeatType = #"[|:"</code><br><code>Â  Â  endRepeatType = #":|]"</code><br><code>Â  Â  doubleRepeatType = #":|][|:"</code><br><code>Â  Â }</code><br><code>}</code><br><br><code>mus = \chordmode {  <br>% la grille proprement dite, 1 ligne par case</code><br><code>  g1:m7+</code><br><code>Â  a2:m5-7 d:5+7</code><br><code>Â  a4:m5-7 d2.:5+7</code><br><code>Â  a2.:m5-7 d4:5+7</code><br><code>Â  \break</code><br><code>Â  a4:m5-7 d:5+7 g2:m7</code><br><code>Â  g2:m7+ a4:m5-7 d:5+7</code><br><code>Â  g4:m7+ e:m5-7 a:m5-7 d:5+7</code><br><code>Â  \set Score.repeatCommands = #'((volta "1.") )</code><br><code>Â  a2:m5-7 d:5+7</code><br><code>Â  \set Score.repeatCommands = #'((volta #f) end-repeat)</code><br><code>Â  \break</code><br><code>Â  \stopStaff s1 \bar "" s \bar "" s \startStaff</code><br><code>Â  \set Score.repeatCommands = #'((volta "2.") )</code><br><code>Â  g1:m6</code><br><code>Â  \set Score.repeatCommands = #'((volta #f))</code><br><code>Â  \bar ".."</code><br><code>}</code><br><br><code>\score {</code><br><code> \gridLayout  % layout enregistrÃ© dans le fichier inclus "chord-grid-JAS.ly"</code><br><code> \new ChordGrid \mus</code><br><code>}</code></pre>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Reprises alternatives avec MuseScore</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/reprises-alternatives-avec-musescore.html"/>
        <id>https://myrealbook.vintherine.org/reprises-alternatives-avec-musescore.html</id>

        <updated>2022-01-26T22:00:01+01:00</updated>
            <summary>
                <![CDATA[
                    <p>Il n'y a pas que Lilypond dans la vie, il y a aussi <a href="https://musescore.org/fr">MuseScore</a>. S'il se prÃ©sente Ã©galement comme Ã©diteur de partitions (wysiwyg celui-ci) je l'utilise pour ses capacitÃ© Ã  jouerÂ  les partitions avec son synthÃ©tiseur intÃ©grÃ© : c'est avec cet outil que je travaille Ã  mes compositions, arrangements, relevÃ©es ou bande d'accompagnement.Â Â </p>
<p>S'il est somme toute trÃ¨s simple Ã  prendre en main il y a quelques fonctionnalitÃ©s pas vraiment intuitives. C'est le cas des reprises lorsqu'une alternativeÂ  doit Ãªtre jouÃ©e plus de 2 fois. Par exemple :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/27//2022-01-26-1643230195_3840x1080_scrot.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/27//responsive/2022-01-26-1643230195_3840x1080_scrot-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/27//responsive/2022-01-26-1643230195_3840x1080_scrot-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/27//responsive/2022-01-26-1643230195_3840x1080_scrot-md.png 768w"  alt="" width="583" height="465"></figure>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Il n'y a pas que Lilypond dans la vie, il y a aussi <a href="https://musescore.org/fr">MuseScore</a>. S'il se prÃ©sente Ã©galement comme Ã©diteur de partitions (wysiwyg celui-ci) je l'utilise pour ses capacitÃ© Ã  jouerÂ  les partitions avec son synthÃ©tiseur intÃ©grÃ© : c'est avec cet outil que je travaille Ã  mes compositions, arrangements, relevÃ©es ou bande d'accompagnement.Â Â </p>
<p>S'il est somme toute trÃ¨s simple Ã  prendre en main il y a quelques fonctionnalitÃ©s pas vraiment intuitives. C'est le cas des reprises lorsqu'une alternativeÂ  doit Ãªtre jouÃ©e plus de 2 fois. Par exemple :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/27//2022-01-26-1643230195_3840x1080_scrot.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/27//responsive/2022-01-26-1643230195_3840x1080_scrot-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/27//responsive/2022-01-26-1643230195_3840x1080_scrot-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/27//responsive/2022-01-26-1643230195_3840x1080_scrot-md.png 768w"  alt="" width="583" height="465"></figure>

<p>Il faut :</p>
<ul>
<li>SÃ©lectionner la ligne alternative prÃ©cÃ©dant la barre de reprise (1.2.3)</li>
<li>Afficher l'inspecteur (touche de fonction F8 ou menu affichage)</li>
<li>Ã‰diter la zone texte de dÃ©but</li>
<li>Remplir tout en bas la liste des reprises qui doivent Ãªtre jouÃ©es</li>
<li>SÃ©lectionner la mesure prÃ©cÃ©dant la barre de reprise</li>
<li>Par le menu contextuel (bouton droit) Ã©diter les propriÃ©tÃ©s de la mesure</li>
<li>Dans nombres de lectures indiquer le nombre correspondant Ã  la liste des reprises +1</li>
</ul>
<p>Un bon dessin vaut mieux qu'un long discours ?</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/27//RepriseMS.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/27//responsive/RepriseMS-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/27//responsive/RepriseMS-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/27//responsive/RepriseMS-md.png 768w"  alt="" width="1092" height="658"></figure>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Le principe de la moindre altÃ©ration</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/le-principe-de-la-moindre-alteration.html"/>
        <id>https://myrealbook.vintherine.org/le-principe-de-la-moindre-alteration.html</id>

        <updated>2022-01-23T15:45:16+01:00</updated>
            <summary>
                <![CDATA[
                    <p>Une particularitÃ© de Lilypond est de pouvoir stocker des fragments musicaux dans des variables et de pouvoir les rÃ©utiliser oÃ¹ bon nous semble et comme bon nous semble. En les transposant notamment. Mais par dÃ©faut le rÃ©sultat n'est pas toujours lisible !</p>
<p>Pour les notes il suffitÂ  souvent d'un peu d'astuce. Par exemple si l'on veut transposer un Laâ™¯ d'une tierce mineure en dessous (transposer une partie de violon pour un saxophone alto) cela nous donnera un Fa<span class="wdg-select-all-ok">ğ„ª mais si on le transpose d'une seconde augmentÃ©e (1 ton Â½ Ã©galement) cela nous donnera un Sol. Voici ce que donne ce principe appliquÃ© Ã  la gamme de Si majeur (code ci-dessous)</span></p>
<figure class="post__image" ><img loading="lazy" src="https://myrealbook.vintherine.org/media/posts/26/document-3.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/26/responsive/document-3-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/26/responsive/document-3-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/26/responsive/document-3-md.png 768w"  alt="" width="570" height="300">
<figcaption >Transposition pour saxophones</figcaption>
</figure>
<p>Â </p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Une particularitÃ© de Lilypond est de pouvoir stocker des fragments musicaux dans des variables et de pouvoir les rÃ©utiliser oÃ¹ bon nous semble et comme bon nous semble. En les transposant notamment. Mais par dÃ©faut le rÃ©sultat n'est pas toujours lisible !</p>
<p>Pour les notes il suffitÂ  souvent d'un peu d'astuce. Par exemple si l'on veut transposer un Laâ™¯ d'une tierce mineure en dessous (transposer une partie de violon pour un saxophone alto) cela nous donnera un Fa<span class="wdg-select-all-ok">ğ„ª mais si on le transpose d'une seconde augmentÃ©e (1 ton Â½ Ã©galement) cela nous donnera un Sol. Voici ce que donne ce principe appliquÃ© Ã  la gamme de Si majeur (code ci-dessous)</span></p>
<figure class="post__image" ><img loading="lazy" src="https://myrealbook.vintherine.org/media/posts/26/document-3.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/26/responsive/document-3-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/26/responsive/document-3-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/26/responsive/document-3-md.png 768w"  alt="" width="570" height="300">
<figcaption >Transposition pour saxophones</figcaption>
</figure>
<p>Â </p>

<pre>\version "2.22.1"<br><br>theNotes = \relative c' {Â <br>Â  \key b \major<br>Â  b4 cis dis e fis gis ais b~ | 1 }<br><br>\layout {<br>Â  indent = 5\cm<br>}<br><br>\score {<br>Â  &lt;&lt;<br>Â  Â  \new Staff \with {Â <br>Â  Â  Â  instrumentName = \markup {<br>Â  Â  Â  Â  \center-column { "Instruments"<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â \line { "en Do" } } } }<br>Â  Â  \theNotes<br>Â  Â  \new Staff \with {Â <br>Â  Â  Â  instrumentName = \markup {<br>Â  Â  Â  Â  \center-column { \line { "Instrument en Si" \smaller \flat }<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â \line { "\\transpose c d (1 ton)" } } } }<br>Â  Â  \transpose c d \theNotes<br>Â  Â  \new Staff \with {Â <br>Â  Â  Â  instrumentName = \markup {<br>Â  Â  Â  Â  \center-column { \line { "Instrument en Si" \smaller \flat }<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â \line { "\\transpose c eses (1 ton)" } } } }<br>Â  Â  \transpose c eses \theNotes<br>Â  Â  \new Staff \with {Â <br>Â  Â  Â  instrumentName = \markup {<br>Â  Â  Â  Â  \center-column { \line { "Instrument en Mi" \smaller \flat }<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â \line { "\\transpose c a (4 tons Â Â½)" } } } }<br>Â  Â  \transpose c a \theNotes<br>Â  Â  \new Staff \with {Â <br>Â  Â  Â  instrumentName = \markup {<br>Â  Â  Â  Â  \center-column { \line { "Instrument en Mi" \smaller \flat }<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â \line { "\\transpose c beses (4 tons Â Â½)" } } } }<br>Â  Â  \transpose c beses \theNotes<br>Â  &gt;&gt;<br>}</pre>
<p>Pour les accords le mÃªme problÃ¨me se pose mais est un petit peu plus compliquÃ© Ã  rÃ©soudre en utilisant la propriÃ©tÃ© chordRootNamer (voir code ci-dessous et <a href="https://lilypond.org/doc/v2.23/Documentation/notation/displaying-chords.fr.html">cette page de documentation</a>) . Ici ce n'est plus l'intervalle de transposition qui varie mais directement la base de l'accord via un double procÃ©dÃ© enharmonique. Merci encore Jean.</p>
<figure class="post__image" ><img loading="lazy" src="https://myrealbook.vintherine.org/media/posts/26/document-4.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/26/responsive/document-4-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/26/responsive/document-4-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/26/responsive/document-4-md.png 768w"  alt="" width="583" height="303">
<figcaption >Fm7 c'est plus intuitif que Eâ™¯m7 n'est-ce-pas ?</figcaption>
</figure>
<p>Â </p>
<pre>\version "2.22.1"<br><br>#(use-modules (ice-9 match))<br><br>#(define enharmonization<br>Â  Â #((0 . 0) ; Câ™®<br>Â  Â  Â  Â  Â  Â  Â (0 . 1/2) ; Dâ™­ â†’ C â™¯<br>Â  Â  Â  Â  Â  Â  Â (1 . 0) ; Dâ™®<br>Â  Â  Â  Â  Â  Â  Â (2 . -1/2) ; Dâ™¯ â†’ Eâ™­<br>Â  Â  Â  Â  Â  Â  Â (2 . 0) ; Eâ™®<br>Â  Â  Â  Â  Â  Â  Â (3 . 0) ; Fâ™®<br>Â  Â  Â  Â  Â  Â  Â (3 . -1/2) ; Gâ™­ â†’ Fâ™¯<br>Â  Â  Â  Â  Â  Â  Â (4 . 0) ; Gâ™®<br>Â  Â  Â  Â  Â  Â  Â #f ; Gâ™¯/Aâ™­<br>Â  Â  Â  Â  Â  Â  Â (5 . 0) ; Aâ™®<br>Â  Â  Â  Â  Â  Â  Â (6 . -1/2) ; Aâ™¯ â†’ Bâ™­<br>Â  Â  Â  Â  Â  Â  Â (6 . 0) ; Bâ™®<br>Â  Â  Â  Â  Â  Â  Â ))<br><br>#(define (enharmonize pitch)<br>Â  Â (let* ((semitones (ly:pitch-semitones pitch))<br>Â  Â  Â  Â  Â  (normalized-semitones (modulo semitones 12))<br>Â  Â  Â  Â  Â  (eventual-octave (* 1/12 (- semitones normalized-semitones))))<br>Â  Â  Â (match (vector-ref enharmonization normalized-semitones)<br>Â  Â  Â  Â  Â  Â  ((best-name . best-alteration)<br>Â  Â  Â  Â  Â  Â  Â (ly:make-pitch eventual-octave best-name best-alteration))<br>Â  Â  Â  Â  Â  Â  (#f<br>Â  Â  Â  Â  Â  Â  Â ;; Gâ™¯/Aâ™­<br>Â  Â  Â  Â  Â  Â  Â (if (positive? (ly:pitch-alteration pitch))<br>Â  Â  Â  Â  Â  Â  Â  Â  Â (ly:make-pitch eventual-octave 4 1/2)<br>Â  Â  Â  Â  Â  Â  Â  Â  Â (ly:make-pitch eventual-octave 5 -1/2))))))<br><br>%% Tests<br>#(for-each<br>Â  (match-lambda<br>Â  Â ((input output)<br>Â  Â  (let ((processed (enharmonize input)))<br>Â  Â  Â  (if (not (equal? output (enharmonize input)))<br>Â  Â  Â  Â  Â  (ly:error "~s -&gt; ~s: bad output, expected ~s" input processed output)))))<br>Â  `((,#{ c #} ,#{ c #})<br>Â  Â  (,#{ cis #} ,#{ cis #})<br>Â  Â  (,#{ des #} ,#{ cis #})<br>Â  Â  (,#{ des'' #} ,#{ cis'' #})<br>Â  Â  (,#{ bisis #} ,#{ cis' #})<br>Â  Â  (,#{ eeses #} ,#{ d #})<br>Â  Â  (,#{ gis,, #} ,#{ gis,, #})<br>Â  Â  (,#{ aes,, #} ,#{ aes,, #})<br>Â  Â  (,#{ fisis,, #} ,#{ g,, #})))<br><br>\layout {<br>Â  indent = 4\cm<br>}<br><br>theNotes = { \repeat unfold 6 { R1 } }<br>theChords = \chordmode { gis1:m7 cis:7 fis:7+ g:m7 c:7 f:7+}<br><br>\score {<br>Â  &lt;&lt;<br>Â  Â  \new ChordNames \theChords<br>Â  Â  \new Staff \with {Â <br>Â  Â  Â  instrumentName = \markup {<br>Â  Â  Â  Â  \center-column { "Instruments"<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â \line { "en Do" } } } }<br>Â  Â  \theNotes<br>Â  &gt;&gt;<br>}<br><br>\score {<br>Â  &lt;&lt;<br>Â  Â  \new ChordNames \transpose c a \theChords<br>Â  Â  \new Staff \with {Â <br>Â  Â  Â  instrumentName = \markup {<br>Â  Â  Â  Â  \center-column { \concat { "Pour inst. en Mi" \smaller \flat}<br>  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â \line { "sans enharmonisation" } } } }<br>Â  \theNotes<br>Â  &gt;&gt;<br>}Â <br><br>\score {<br>Â  &lt;&lt;<br>Â  Â  \new ChordNames \transpose c a \theChords<br>Â  Â  \new Staff \with {Â <br>Â  Â  Â  instrumentName = \markup {<br>Â  Â  Â  Â  \center-column { \concat { "Pour inst. en Mi" \smaller \flat}<br>  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â \line { "avec enharmonisation" } } } }Â <br>Â  Â  \theNotes<br>Â  &gt;&gt;<br>Â  \layout {<br>Â  Â  \context {<br>Â  Â  Â  \ChordNames<br>Â  Â  Â  chordRootNamer =<br>Â  Â  Â  #(lambda (pitch lowercase)<br>Â  Â  Â  Â  Â (note-name-&gt;markup (enharmonize pitch)<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  lowercase))<br>Â  Â  }<br>Â  }<br>}Â </pre>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Fragments alternatifs : utilisation des tags</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/fragments-alternatifs-utilisation-des-tags.html"/>
        <id>https://myrealbook.vintherine.org/fragments-alternatifs-utilisation-des-tags.html</id>

        <updated>2022-01-10T17:42:48+01:00</updated>
            <summary>
                <![CDATA[
                    <p>Dans les rÃ©pertoires de MyRealBook vous trouverezÂ  des partitions Ã©crites pour instruments en Do, en Siâ™­ et en Miâ™­. Du fait de leur faible tessiture (2,5 octaves) les saxophones me servent de rÃ©fÃ©rence pour les instruments transposÃ©s.</p>
<p>Les fichiers sources sont d'abord Ã©crits pour instruments en Do, les notes des diffÃ©rentes portÃ©es stockÃ©es dans des variables,Â  puis transposÃ©es. C'est en principe trÃ¨s simple : \transpose c dÂ  \maMusique pour instruments en Siâ™­, \transpose c a Â (ou a,) pour instruments en Miâ™­. Mais il arrive parfois que l'<a href="https://fr.wikipedia.org/wiki/Ambitus">ambitus</a> du morceau soit tel que la partitionÂ  transposÃ©e soit injouable.Â </p>
<p>Voici par exemple la premiÃ¨re partie deÂ  <em>Zebulon Dance</em> de Didier Lockwood Ã©crit originellement pour violon :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/24/ZebulonDance-CTab.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/24/responsive/ZebulonDance-CTab-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/24/responsive/ZebulonDance-CTab-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/24/responsive/ZebulonDance-CTab-md.png 768w"  alt="Zebulon Dance" width="870" height="284"></figure>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Dans les rÃ©pertoires de MyRealBook vous trouverezÂ  des partitions Ã©crites pour instruments en Do, en Siâ™­ et en Miâ™­. Du fait de leur faible tessiture (2,5 octaves) les saxophones me servent de rÃ©fÃ©rence pour les instruments transposÃ©s.</p>
<p>Les fichiers sources sont d'abord Ã©crits pour instruments en Do, les notes des diffÃ©rentes portÃ©es stockÃ©es dans des variables,Â  puis transposÃ©es. C'est en principe trÃ¨s simple : \transpose c dÂ  \maMusique pour instruments en Siâ™­, \transpose c a Â (ou a,) pour instruments en Miâ™­. Mais il arrive parfois que l'<a href="https://fr.wikipedia.org/wiki/Ambitus">ambitus</a> du morceau soit tel que la partitionÂ  transposÃ©e soit injouable.Â </p>
<p>Voici par exemple la premiÃ¨re partie deÂ  <em>Zebulon Dance</em> de Didier Lockwood Ã©crit originellement pour violon :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/24/ZebulonDance-CTab.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/24/responsive/ZebulonDance-CTab-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/24/responsive/ZebulonDance-CTab-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/24/responsive/ZebulonDance-CTab-md.png 768w"  alt="Zebulon Dance" width="870" height="284"></figure>

<p>L'ambitus couvre un peu de deux octaves, du La3 au Si5. <span style="color: var(--text-editor-body-color); font-family: var(--font-base); font-size: inherit; font-weight: var(--font-weight-normal);">L'ambitus transposÃ© pour un instrument en Siâ™­ (Si4 - Doâ™¯6) sera compatible avec un saxophone soprano ou jouÃ© une octave en dessous par un saxophone tÃ©nor.</span></p>
<p>Tentons maintenant de transposer pour un saxophone alto :</p>
<ol>
<li>avec \transpose c a l'ambitus sera Faâ™¯3 - Solâ™¯5 : trop bas ğŸ˜£</li>
<li>avec \transpose c a' l'ambitus sera Faâ™¯4 - Solâ™¯6 : trop haut ğŸ˜£</li>
</ol>
<p>La solution la plus Ã©vidente est de monter d'une octave les seules notes posant problÃ¨me (entourÃ©es de rouge ci-dessus). Pour Ã©viter la solution "<em>bestiale</em>" consistant Ã  dupliquer toute la portÃ©e pour ne changer que 7 notes on peut isoler les fragments alternatifs en utilisant des balises (tags). <a href="https://lilypond.org/doc/v2.22/Documentation/notation/different-editions-from-one-source#using-tags">La documentation est ici</a>.Â </p>
<p>Cette solution est d'autant plus facile dans notre cas qu'il suffit de changer lâ€™octave des fragments en question dans la commande \relative. Exemple de code pour les 3Â  mesures de la 1Ã¨re alternative</p>
<pre>maMusique = \relative c''<br>{<br>Â  \key a \major cis4 Â a8 Â e Â b' cis4 Â a8 ~ | a4 Â <br>Â  &lt;&lt;Â <br>Â  Â  \tag violon \relative b { b8 Â cis Â a2 Â }Â <br>Â  Â  \tag alto \relative b' { b8 Â cis Â a2 Â }<br>Â  &gt;&gt;<br>  r2 r8 Â e Â a Â cis \bar ":|."<br>}<br><br>&lt;&lt; Â \new Staff \with { instrumentName = "violon" } \keepWithTag violon \maMusique<br>  Â  \new Staff \with { instrumentName = "alto sax" } \keepWithTag alto \transpose c a, \maMusique <br>&gt;&gt;</pre>
<p>Le rÃ©sultat :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/24/LilyBalises.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/24/responsive/LilyBalises-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/24/responsive/LilyBalises-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/24/responsive/LilyBalises-md.png 768w"  alt="Lily balise" width="540" height="143"></figure>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Lilypond et la pagination</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/lilypond-et-la-pagination.html"/>
        <id>https://myrealbook.vintherine.org/lilypond-et-la-pagination.html</id>

        <updated>2022-01-04T11:12:10+01:00</updated>
            <summary>
                <![CDATA[
                    <p>Ã€ priori Lilypond permet de gÃ©rer finement la plupart des problÃ¨mes de pagination grÃ¢ce Ã  des variables dans les blocs <samp>\paper {}</samp></p>
<ul>
<li>afficher les numÃ©ros de pages (<samp>print-page-number = ##t</samp>, oui par dÃ©faut) ou non (<samp>##f</samp>)</li>
<li>afficher le numÃ©ro de la premiÃ¨re page (<samp>print-first page-number = ##f</samp>, non par dÃ©faut)</li>
<li>afficher les numÃ©ros en chiffres arabes (<samp>page-number-type = 'arabic</samp>,Â  par dÃ©faut),Â  romains minuscules ( <samp>'roman-lower</samp>) ou romains majuscules ( <samp>'roman-upper</samp>)</li>
<li>Changer le numÃ©ro de la premiÃ¨re page avec <samp>first-page-number</samp>. La valeur par dÃ©faut est de <samp>#1</samp>.</li>
</ul>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Ã€ priori Lilypond permet de gÃ©rer finement la plupart des problÃ¨mes de pagination grÃ¢ce Ã  des variables dans les blocs <samp>\paper {}</samp></p>
<ul>
<li>afficher les numÃ©ros de pages (<samp>print-page-number = ##t</samp>, oui par dÃ©faut) ou non (<samp>##f</samp>)</li>
<li>afficher le numÃ©ro de la premiÃ¨re page (<samp>print-first page-number = ##f</samp>, non par dÃ©faut)</li>
<li>afficher les numÃ©ros en chiffres arabes (<samp>page-number-type = 'arabic</samp>,Â  par dÃ©faut),Â  romains minuscules ( <samp>'roman-lower</samp>) ou romains majuscules ( <samp>'roman-upper</samp>)</li>
<li>Changer le numÃ©ro de la premiÃ¨re page avec <samp>first-page-number</samp>. La valeur par dÃ©faut est de <samp>#1</samp>.</li>
</ul>

<p>Une chose pourtant fait dÃ©faut malgrÃ© des demandes rÃ©pÃ©tÃ©es depuis de longues annÃ©es : ce paramÃ©trage ne fonctionne qu'au niveau du bloc <samp>\book</samp> et reste sans effet au niveau du bloc <samp>\bookpart</samp>. Voici au moins deux exemples pour lesquels cette limitation pose problÃ¨me :</p>
<ul>
<li>Au dÃ©but d'un ouvrage une prÃ©face ou une table des matiÃ¨re sera couramment numÃ©rotÃ©e en chiffres romains, la suite recommenÃ§ant Ã  1 en chiffres arabes.</li>
<li>Pour des partitions pour orchestre on aimerait que directeur et parties soient regroupÃ©es dans un mÃªme ouvrage mais que la numÃ©rotation de chaque partie dÃ©bute Ã  1.</li>
</ul>
<p>Il existe heureusement une solution de contournement que l'on doit initialement Ã  Thomas Morley (voir <a href="https://www.mail-archive.com/lilypond-user@gnu.org/msg115188.html">cette page des archives de la liste anglophone des utilisateurs de Lilypond</a>) et rÃ©cemment corrigÃ©e par Valentin Petzel sur la mÃªme liste.</p>
<p>Une remarque concernant l'exemple fourni avec le code repose sur la version 2.19 de Lilypond qu'il faut mettre Ã  jour avec convert-ly (modifications de <samp>\tocItem</samp>Â  qui nÃ©cessite un <samp>\markup</samp>)</p>
<p>Pour utiliser cette solution copiez tout d'abord dans votre code la fonction ci-dessous (Ã  la fin de cet article) ou collez-la dans un fichier Ã  inclure et insÃ©rez un bloc <samp>\paper {}</samp> Ã  l'intÃ©rieurÂ  des <samp>\bookpart</samp> avec les variables suivantes :</p>
<ul>
<li><samp>oddHeaderMarkup = \oddMarkup #'arabic</samp></li>
<li><samp>evenHeaderMarkup = \evenMarkup #'arabic</samp></li>
</ul>
<p>arabic peut Ãªtre remplacÃ© par roman-lower ou roman-upper</p>
<p>La variable <samp>print-first page-number</samp> est maintenant par dÃ©faut Ã  <samp>##t</samp> mais peut Ãªtre modifiÃ©e dans ce mÃªme bloc</p>
<p>Un exemple :</p>
<pre><code>\version "2.22.1"</code><br><code>\include "BookPartPagesNumber.ly"</code><br><br><code>musique = \relative c'' { \repeat unfold 2 { d1 \pageBreak } }</code><br><br><code>\book {</code><br><code>Â  \bookpart {</code><br><code>Â  Â  \paper {</code><br><code>  Â  Â  oddHeaderMarkup = \oddMarkup #'roman-lower</code><br><code>Â  Â  Â  evenHeaderMarkup = \evenMarkup #'roman-lower</code><br><code>Â  Â  }</code><br><code>Â  Â  \score {</code><br><code>Â  Â  Â  \musique</code><br><code>Â  Â  }</code><br><code>Â  }</code><br><code>Â  \bookpart {</code><br><code>Â  Â  \paper {</code><br><code>Â  Â  Â  print-first-page-number = ##f</code><br><code>Â  Â  Â  oddHeaderMarkup = \oddMarkup #'arabic</code><br><code>Â  Â  Â  evenHeaderMarkup = \evenMarkup #'arabic</code><br><code>Â  Â  }</code><br><code>Â  Â  \score {</code><br><code>Â  Â  Â  \musique</code><br><code>Â  Â  }</code><br><code>Â  Â  Â  Â  \score {</code><br><code>Â  Â  Â  \musique</code><br><code>Â  Â  }</code><br><code>Â  }</code><br><code>}</code></pre>
<p>La fonction BookPartPagesNumber</p>
<pre>\<code>version "2.22.1"</code><br><br><code>#(define part-first-pages '(0))</code><br><br><code>#(define (part-first-page? layout props)</code><br><code>Â  (= (chain-assoc-get 'page:page-number props -1)</code><br><code>Â  Â  Â (ly:output-def-lookup layout 'first-page-number)))</code><br><br><code>#(define (reset-part-first-page layout props arg)</code><br><code>"Returns page-number-string, starting every bookpart with page-number 0.</code><br><code>Relying on the extern defined `part-first-pages'.</code><br><code>"</code><br><code>Â  (set! props (prepend-alist-chain 'part-first-page '(0) props))</code><br><br><code>Â  (let* ((real-page-number (chain-assoc-get 'page:page-number props -1))</code><br><code>Â  Â  Â  Â  Â (parts-page-number (- real-page-number (car part-first-pages))))</code><br><br><code>Â  Â  (if (part-first-page? layout props)</code><br><code>Â  Â  Â  Â  (set! part-first-pages (cons (1- real-page-number) part-first-pages)))</code><br><br><code>Â  Â  (set! props</code><br><code>Â  Â  Â  (cons</code><br><code>Â  Â  Â  Â  (list</code><br><code>Â  Â  Â  Â  Â  (cons 'page:page-number-string (number-&gt;string parts-page-number))</code><br><code>Â  Â  Â  Â  Â  (cons 'page:page-number parts-page-number))</code><br><code>Â  Â  Â  Â  props))</code><br><code>Â  Â  (interpret-markup layout props arg)))</code><br><br><code>#(define ((print-part-first-page-as-one number-type) layout props arg)</code><br><br><code>Â  (set! props</code><br><code>Â  Â  (cons</code><br><code>Â  Â  Â  (list</code><br><code>Â  Â  Â  Â  (cons 'page:page-number-string</code><br><code>Â  Â  Â  Â  Â  Â  Â  (let ((page-number</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â (chain-assoc-get 'page:page-number props -1)))</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  ;(if (&lt;= page-number 0) ""</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  (cond ((and (eq? number-type 'roman-lower) (&gt; page-number 0))</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â (fancy-format #f "~(~@r~)" page-number))</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ((and (eq? number-type 'roman-upper) (&gt; page-number 0))</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â (fancy-format #f "~@r" page-number))</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ((eq? number-type 'arabic)</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â (number-&gt;string page-number))</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (else (number-&gt;string page-number)))));)</code><br><code>Â  Â  Â  Â  (cons 'page:page-number</code><br><code>Â  Â  Â  Â  Â  Â  Â  (chain-assoc-get 'page:page-number props -1)))</code><br><code>Â  Â  Â  props))</code><br><code>Â  (interpret-markup layout props arg))</code><br><br><code>\paper {</code><br><code>  print-first-page-number = ##t</code><br><code>Â  oddMarkup =</code><br><code>Â  #(define-scheme-function (number-type)(symbol?)</code><br><code>Â  Â  #{</code><br><code>Â  Â  Â  \markup</code><br><code>Â  Â  Â  Â  \column {</code><br><code>Â  Â  Â  Â  Â  \fill-line {</code><br><code>Â  Â  Â  Â  Â  Â  " "</code><br><code>Â  Â  Â  Â  Â  Â  \on-the-fly #not-part-first-page \fromproperty #'header:instrument</code><br><code>Â  Â  Â  Â  Â  Â  Â  %% use in this order:</code><br><code>Â  Â  Â  Â  Â  Â  Â  \on-the-fly #reset-part-first-page</code><br><code>Â  Â  Â  Â  Â  Â  Â  \on-the-fly #(print-part-first-page-as-one number-type)</code><br><code>Â  Â  Â  Â  Â  Â  Â  \on-the-fly #print-page-number-check-first</code><br><code>Â  Â  Â  Â  Â  Â  Â  \fromproperty #'page:page-number-string</code><br><code>Â  Â  Â  Â  Â  }</code><br><code>  Â  Â  Â  }</code><br><code>Â  Â  #})</code><br><br><code>Â  evenMarkup =</code><br><code>Â  #(define-scheme-function (number-type)(symbol?)</code><br><code>Â  Â  #{</code><br><code>Â  Â  Â  \markup</code><br><code>Â  Â  Â  Â  \column {</code><br><code>Â  Â  Â  Â  Â  \fill-line {</code><br><code>Â  Â  Â  Â  Â  Â  Â  %% use in this order:</code><br><code>Â  Â  Â  Â  Â  Â  Â  \on-the-fly #reset-part-first-page</code><br><code>Â  Â  Â  Â  Â  Â  Â  \on-the-fly #(print-part-first-page-as-one number-type)</code><br><code>Â  Â  Â  Â  Â  Â  Â  \on-the-fly #print-page-number-check-first</code><br><code>Â  Â  Â  Â  Â  Â  Â  \fromproperty #'page:page-number-string</code><br><code>Â  Â  Â  Â  Â  Â  \on-the-fly #not-part-first-page \fromproperty #'header:instrument</code><br><code>Â  Â  Â  Â  Â  Â  " "</code><br><code>Â  Â  Â  Â  Â  }</code><br><code>  Â  Â  Â  }</code><br><code>  Â  #})</code><br><code>}</code></pre>
<p>Â </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>MyRealBook : les partitions</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/myrealbook-les-partitions.html"/>
        <id>https://myrealbook.vintherine.org/myrealbook-les-partitions.html</id>

        <updated>2022-03-19T10:46:48+01:00</updated>
            <summary>
                <![CDATA[
                     Le tableau dynamique Ã  tri multicritÃ¨re [inadaptÃ© Ã  un ordiphone] Par&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <ul>
<li><a href="scores/index.html">Le tableau dynamique Ã  tri multicritÃ¨re</a> [inadaptÃ© Ã  un ordiphone]</li>
<li><a href="scores/ByAlpha.html">Par ordre alphabÃ©tique des titres</a></li>
<li><a href="scores/ByComposers.html">Par ordre des compositeurs</a></li>
<li><a href="scores/ByStyles.html">Par styles (swing, bop, salsa etc.)</a></li>
<li><a href="scores/ByTempi.html">Par tempi (slow, medium, fast etc.)</a></li>
<li><a href="scores/Combos.html">Partitions pour combos ou petits big bands</a></li>
<li><a href="scores/Lyrics.html">Partitions contenant des paroles</a></li>
<li><a href="scores/Latest.html">Les 10 partitions les plus rÃ©centes</a></li>
</ul>
<p>Un petit rappel : MyRealBook est un site statique. Cela prÃ©sente de nombreux avantages (rapiditÃ©, sobriÃ©tÃ©...) mais le revers de la mÃ©daille est l'impossibilitÃ© de proposer des pages personnalisÃ©es. Ce qui constitue indÃ©niablement une limitation en matiÃ¨re de navigation et de recherche (*). Pour tenter d'y remÃ©dier voici ci-dessus plusieurs moyens dâ€™accÃ©der aux centaines de partitions que contient ce site.</p>
<p>(*) Il vous est toujours possible d'utiliser le module de recherche de votre navigateur au sein d'une mÃªme page.</p>
<h4><a href="scores/index.html">Ã€ propos du tableau dynamique Ã  tri multicritÃ¨re</a></h4>
<p>C'est sans doute la maniÃ¨re la plus <span class="tlf_csyntagme"><i>efficiente</i> de trouver ce que l'on recherche : il est possible de trier par titres (par dÃ©faut), par compositeurs, par styles, par tempi, par interprÃ¨tes et / ou par prÃ©sences ou non des paroles. Plusieurs tri successifs sont possibles.</span></p>
<p class="msg msg--highlight ">Mode d'emploi : Les flÃ¨ches dans les en-tÃªtes de colonnes permettent d'activer / dÃ©sactiver le tri du tableau. Un chiffre est ajoutÃ© Ã  droite du titre pour indiquer l'ordre du tri, une flÃ¨che rouge indique la direction du tri.</p>
<p>Principal dÃ©faut de ce tableau : il n'est pas "<em>Responsive design</em>", c'est Ã  dire qu'il ne se redimensionne pas en fonction des tailles d'Ã©cran. Il n'est donc pas adaptÃ© Ã  un ordiphone.</p>
<h4><a href="https://github.com/vgay/vgay.github.io">Cloner GitHub</a></h4>
<p>Ce site est sur GitHub, clonez-le avec toutes ses partitions ou tÃ©lÃ©chargez le .zip (cliquez sur le bouton vert "Code" puis sur le lien "Download ZIP")</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Un peu de couleur</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/un-peu-de-couleur.html"/>
        <id>https://myrealbook.vintherine.org/un-peu-de-couleur.html</id>

        <updated>2021-12-24T17:16:18+01:00</updated>
            <summary>
                <![CDATA[
                    <p>Ã€ la lecture d'une grille harmonique un jazzman chevronnÃ© sait immÃ©diatement ce que recouvre chaque accord et quelles gammes et arpÃ¨ges il peut jouer. Un dÃ©butant devra au contraire Ã©tudier longuement sa partition, repÃ©rer les notes fortes, l'annoter et rÃ©pÃ©ter inlassablement les enchaÃ®nements caractÃ©ristiques tels les II-V-I , les cadences plagale (IV-I), les marches harmoniques...</p>
<p>Lorsque j'Ã©tais moi-mÃªme dÃ©butant j'utilisais mes crayons de couleur pour repÃ©rer plus visuellement les tonalitÃ©s, une peu comme ceci :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/21/LesPassantes.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/21/responsive/LesPassantes-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/21/responsive/LesPassantes-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/21/responsive/LesPassantes-md.png 768w"  alt="Les Passantes de Georges Brassens" width="793" height="391"></figure>
<p>Voyons comment faire ceci avec Lilypond.</p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Ã€ la lecture d'une grille harmonique un jazzman chevronnÃ© sait immÃ©diatement ce que recouvre chaque accord et quelles gammes et arpÃ¨ges il peut jouer. Un dÃ©butant devra au contraire Ã©tudier longuement sa partition, repÃ©rer les notes fortes, l'annoter et rÃ©pÃ©ter inlassablement les enchaÃ®nements caractÃ©ristiques tels les II-V-I , les cadences plagale (IV-I), les marches harmoniques...</p>
<p>Lorsque j'Ã©tais moi-mÃªme dÃ©butant j'utilisais mes crayons de couleur pour repÃ©rer plus visuellement les tonalitÃ©s, une peu comme ceci :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/21/LesPassantes.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/21/responsive/LesPassantes-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/21/responsive/LesPassantes-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/21/responsive/LesPassantes-md.png 768w"  alt="Les Passantes de Georges Brassens" width="793" height="391"></figure>
<p>Voyons comment faire ceci avec Lilypond.</p>

<p>CommenÃ§ons par Ã©crire une partitions ordinaire avec une ou deux voix. Dans l'exemple ci-dessus j'utilise les notes fortes des accords (gÃ©nÃ©ralement tierces et septiÃ¨mes) en guise de guide-ton. Dans chaque mesure j'indique par un changement de clef la tonalitÃ© induite par les accords.</p>
<p>Le style Realbook est utilisÃ© comme Ã  l'habitude mais n'est pas indispensable. Voir les postsÂ  <a href="https://myrealbook.vintherine.org/a-propos-des-logiciels-deditions-utilises.html">Ã€ propos des logiciels</a>, (partie Lilyjazz) et <a href="https://myrealbook.vintherine.org/titres-a-la-realbook.html">Titres Ã  la Realbook.</a></p>
<p>Pour avoir une barre de reprise avant la premiÃ¨re mesure je triche par un \partial 256 s256 (penser Ã  mettre ce s256 Ã©galement avant les noms d'accords). Cela permet aussi d'indiquer la tonalitÃ© initiale Ã  l'intÃ©rieur la premiÃ¨re mesure. Pour Ã©viter que ce silence ne prenne trop de place au dÃ©but de la ligneÂ  il est nÃ©cessaire d'indiquer Ã  Lilypond d'Ã©crire de faÃ§on proportionnelle par le code suivant :</p>
<pre><code>\layout { </code><br><code>Â  \context { </code><br><code>Â Â Â  \Score </code><br><code>Â Â Â  proportionalNotationDuration = #(ly:make-moment 1/10) </code><br><code>} }</code></pre>
<p>Venons-en maintenant au coloriage des mesures. Elle est possible grÃ¢ce Ã  la fonction staffColor Ã©crite par Jean Abou Samra et postÃ©e dans la liste de discussion des utilisateurs francophones de lilypond.Â </p>
<pre><code>\version "2.22.1"</code><br><br><code>#(define (define-grob! grob-name grob-entry)</code><br><code>Â  Â (set! all-grob-descriptions</code><br><code>Â  Â  Â  Â  Â (cons ((@@ (lily) completize-grob-entry)</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  (cons grob-name grob-entry))</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â all-grob-descriptions)))</code><br><br><code>#(define (staff-colorizer::print grob)</code><br><code>Â  Â (let* ((staff-symbol (ly:grob-object grob 'staff-symbol))</code><br><code>Â  Â  Â  Â  Â  (left (ly:spanner-bound grob LEFT))</code><br><code>Â  Â  Â  Â  Â  (right (ly:spanner-bound grob RIGHT))</code><br><code>Â  Â  Â  Â  Â  (refp (ly:grob-system grob))</code><br><code>Â  Â  Â  Â  Â  (spacing-pair (ly:grob-property grob 'spacing-pair))</code><br><code>Â  Â  Â  Â  Â  (coord-adjust (ly:grob-relative-coordinate grob refp X))</code><br><code>Â  Â  Â  Â  Â  (x-span (cons (- (interval-end (ly:paper-column::break-align-width</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  left</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (car spacing-pair)))</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â coord-adjust)</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (- (interval-start (ly:paper-column::break-align-width</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  right</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (cdr spacing-pair)))</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â coord-adjust)))</code><br><code>Â  Â  Â  Â  Â  (y-span (ly:grob-extent staff-symbol staff-symbol Y)))</code><br><code>Â  Â  Â (make-filled-box-stencil x-span y-span)))</code><br><br><code>#(define-grob!</code><br><code>Â  Â 'StaffColorizer</code><br><code>Â  Â `((stencil . ,staff-colorizer::print)</code><br><code>Â  Â  Â (layer . -1)</code><br><code>Â  Â  Â (spacing-pair . (staff-bar . staff-bar))</code><br><code>Â  Â  Â (meta . ((class . Spanner)</code><br><code>Â  Â  Â  Â  Â  Â  Â  (interfaces . (text-interface))))))</code><br><br><code>#(set-object-property! 'staffColor 'translation-type? color?)</code><br><br><code>#(define (Staff_colorizer_engraver context)</code><br><code>Â  Â (let ((current-color #f)</code><br><code>Â  Â  Â  Â  Â (spanner #f))</code><br><code>Â  Â  Â (make-engraver</code><br><code>Â  Â  Â  Â ((process-music engraver)</code><br><code>Â  Â  Â  Â  Â  (let ((color (ly:context-property context 'staffColor #f)))</code><br><code>Â  Â  Â  Â  Â  Â  (if (and color</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â (not (equal? color current-color)))</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  (let ((column (ly:context-property context 'currentCommandColumn)))</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  (set! current-color color)</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  (if spanner</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (ly:spanner-set-bound! spanner RIGHT column))</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  (set! spanner (ly:engraver-make-grob engraver 'StaffColorizer '()))</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  (ly:grob-set-property! spanner 'color current-color)</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  (ly:spanner-set-bound! spanner LEFT column)))))</code><br><code>Â  Â  Â  Â ((finalize engraver)</code><br><code>Â  Â  Â  Â  Â  (if spanner</code><br><code>Â  Â  Â  Â  Â  Â  Â  (let ((column (ly:context-property context 'currentCommandColumn)))</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  (ly:spanner-set-bound! spanner RIGHT column)))))))</code><br><br><code>\layout {</code><br><code>Â  \context {</code><br><code>Â  Â  \Global</code><br><code>Â  Â  \grobdescriptions #all-grob-descriptions</code><br><code>Â  }</code><br><code>Â  \context {</code><br><code>Â  Â  \Staff</code><br><code>Â  Â  \consists #Staff_colorizer_engraver</code><br><code>Â  }</code><br><code>}</code><br><br><code>staffColor = \set Staff.staffColor = \etcÂ </code></pre>
<p>j'ai enregistrÃ© ce code dans un fichier staffColor.ly que j'appelle dans mes \include</p>
<p>Le code complet :</p>
<pre><code>\version "2.22.1"</code><br><code>#(set-global-staff-size 18)</code><br><code>\include "jazzchords.ily"</code><br><code>\include "lilyjazz.ily"</code><br><code>\include "staffColor.ly"</code><br><br><code>\paper {</code><br><code>Â  indent = 0\mm</code><br><code>Â  ragged-last-bottom = ##t</code><br><code>Â  ragged-bottom = ##f</code><br><code>Â  ragged-last = ##f</code><br><code>Â  markup-system-spacing = #'((basic-distance . 23)</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â (minimum-distance . 8)</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â (padding . 1))</code><br><code>}</code><br><br><code>title = #"Les passantes"</code><br><code>composer = #"Georges Brassens"</code><br><code>meter = #"(Ballad)"</code><br><br><code>realBookTitle = \markup {</code><br><code>Â  \score {</code><br><code>Â  Â  {</code><br><code>Â  Â  Â  \override TextScript.extra-offset = #'(0 . -4.5)</code><br><code>Â  Â  Â  s4</code><br><code>Â  Â  Â  s^\markup {</code><br><code>Â  Â  Â  Â  \fill-line {</code><br><code>Â  Â  Â  Â  Â  \fontsize #1 \lower #1 \rotate #7 \concat { " " #meter }</code><br><code>Â  Â  Â  Â  Â  \fontsize #4</code><br><code>Â  Â  Â  Â  Â  \override #'(offset . 9)</code><br><code>Â  Â  Â  Â  Â  \override #'(thickness . 6)</code><br><code>Â  Â  Â  Â  Â  \underline \larger \larger #title</code><br><code>Â  Â  Â  Â  Â  \fontsize #1 \lower #1 \concat { #composer " " }</code><br><code>Â  Â  Â  Â  }</code><br><code>Â  Â  Â  }</code><br><code>Â  Â  Â  s</code><br><code>Â  Â  }</code><br><code>Â  Â  \layout {</code><br><code>Â  Â  Â  \omit Staff.Clef</code><br><code>Â  Â  Â  \omit Staff.TimeSignature</code><br><code>Â  Â  Â  \omit Staff.KeySignature</code><br><code>Â  Â  Â  ragged-right = ##f</code><br><code>Â  Â  }</code><br><code>Â  }</code><br><code>}</code><br><br><code>voltaAdLib = \markup { 1. 2. 3â€¦ \italic \text "ad lib." }</code><br><code>voltaOnCue = \markup \small \text "Last X"</code><br><br><code>\header {</code><br><code>Â  pdftitle = #title</code><br><code>Â  pdfauthor = #composer</code><br><code>Â  title = \realBookTitle</code><br><code>Â  tagline = ##f</code><br><code>}</code><br><br><code>\layout {</code><br><code>Â  \context {</code><br><code>Â  Â  \Score</code><br><code>Â  Â  proportionalNotationDuration = #(ly:make-moment 1/10)</code><br><code>Â  Â  \omit BarNumber</code><br><code>Â  Â  startRepeatType = #"[|:"</code><br><code>Â  Â  endRepeatType = #":|]"</code><br><code>Â  Â  doubleRepeatType = #":|][|:"</code><br><code>Â  Â  \override Clef #'break-visibility = #'#(#f #f #f)</code><br><code>Â  Â  \override KeySignature #'break-visibility = #'#(#f #t #t)</code><br><code>Â  Â  \override SystemStartBar #'collapse-height = #1</code><br><code>Â  }</code><br><code>Â  \context {Â </code><br><code>Â  Â  \Staff</code><br><code>Â  Â  printPartCombineTexts = ##f</code><br><code>Â  Â  \consists "Merge_rests_engraver"</code><br><code>Â  }</code><br><code>Â  \context {</code><br><code>Â  Â  \ChordNames</code><br><code>Â  Â  \override ParenthesesItem.font-size = #2</code><br><code>Â  }</code><br><code>Â  \context { \Score markFormatter = #format-mark-box-alphabet }</code><br><code>}</code><br><br><br><code>accords = \chordmode {</code><br><code>Â  \set chordChanges = ##t</code><br><code>Â  s512</code><br><code>Â  f1:7+ e:7 a:7 d:7 d:m7 g:7 c:7+ e:7Â </code><br><code>Â  f1:7+ e:7 a:7 d:7 a:m7 g:7 a:m7 g2:m7 c:7 a1:mÂ </code><br><code>}</code><br><br><code>theNotes = Â \relative c''' {</code><br><code>Â  \clef "treble" \time 4/4</code><br><code>Â  \partial 512 s512</code><br><code>Â  %\showStartBar \bar "[|:"</code><br><code>Â  \set Staff.explicitKeySignatureVisibility = ##(#f #t #t)</code><br><code>Â  \override Staff.KeyCancellation.break-visibility = #all-invisibleÂ </code><br><br><code>Â  \repeat volta 2</code><br><code>Â  {</code><br><code>Â  Â  &lt;&lt;Â </code><br><code>Â  Â  Â  { \key f \major \staffColor aqua a1Â </code><br><code>Â  Â  Â  Â  \key a \major \staffColor pink Â gisÂ </code><br><code>Â  Â  Â  Â  \key d \major \staffColor orange g!Â </code><br><code>Â  Â  Â  Â  \key g \major \staffColor yellow fis \breakÂ </code><br><code>Â  Â  Â  Â  \key c \major \staffColor Chartreuse f! f eÂ </code><br><code>Â  Â  Â  Â  \key a \major \staffColor pink d \break</code><br><code>Â  Â  Â  Â  \key f \major \staffColor aqua eÂ </code><br><code>Â  Â  Â  Â  \key a \major \staffColor pink dÂ </code><br><code>Â  Â  Â  Â  \key d \major \staffColor orange cisÂ </code><br><code>Â  Â  Â  Â  \key g \major \staffColor yellow c! \breakÂ </code><br><code>Â  Â  Â  Â  \once \override Staff.KeyCancellation.break-visibility = ##(#f #t #t)</code><br><code>Â  Â  Â  Â  \key c \major \staffColor Chartreuse c b c Â }Â </code><br><code>Â  Â  Â  \\Â </code><br><code>Â  Â  Â  { e d cis cÂ </code><br><code>Â  Â  Â  Â  c b b gis</code><br><code>Â  Â  Â  Â  a gis g! fis</code><br><code>Â  Â  Â  Â  g f cÂ </code><br><code>Â  Â  Â  }Â </code><br><code>Â  Â  &gt;&gt;</code><br><code>Â  }</code><br><code>Â  \alternative {</code><br><code>Â  Â  {Â </code><br><code>Â  Â  Â  \overrideProperty Score.VoltaBracket.text \voltaAdLib</code><br><code>Â  Â  Â  &lt;&lt; { \key f \major \staffColor aqua bes' } \\ { f2 e } &gt;&gt; }</code><br><code>Â  Â  {Â </code><br><code>Â  Â  Â  \overrideProperty Score.VoltaBracket.text \voltaOnCue</code><br><code>Â  Â  Â  &lt;&lt; { \key c \major \staffColor Chartreuse c'1 } \\ { e,1 } &gt;&gt; \bar ".." }</code><br><code>Â  }</code><br><code>}</code><br><br><code>Â  Â  \score {</code><br><code>Â  Â  Â  &lt;&lt;</code><br><code>Â  Â  Â  Â  \new ChordNames { \accords }</code><br><code>Â  Â  Â  Â  \new Staff \theNotes</code><br><code>Â  Â  Â  &gt;&gt;</code><br><code>}Â </code></pre>
<p>Â </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Mesures composÃ©es</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/mesures-composees.html"/>
        <id>https://myrealbook.vintherine.org/mesures-composees.html</id>

        <updated>2021-12-04T12:14:33+01:00</updated>
            <summary>
                <![CDATA[
                    <p>J'ai travaillÃ© rÃ©cemment sur des morceaux Ã  la mÃ©trique un peu inhabituelle : Her Song de Daniel Goyone, Ã©crit en 13/8, et le trÃ¨s beau thÃ¨me de Zem Audu, <a href="https://zemaudu.bandcamp.com/album/visions">Vision</a>, Ã©crit en 11/8. Dans un cas comme dans l'autre il s'agit de mesures composÃ©es complexes :</p>
<ul>
<li>5/8+5/8+3/8 pour le premier</li>
<li>4/8+4/8+3/8 pour le second</li>
</ul>
<p>Ã‰videmmentÂ  il faudra indiquer aux musiciens la nature de cette composition et Ã  Lilypond comment disposer les ligatures des croches.</p>
<p>Ã€ peine Ã©voquÃ©e cette question sur la liste de discussion Lilypond je reÃ§oit une rÃ©ponse sous la forme d'une fonction dueÂ  Ã  l'inÃ©vitable Jean Abou Samra :</p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>J'ai travaillÃ© rÃ©cemment sur des morceaux Ã  la mÃ©trique un peu inhabituelle : Her Song de Daniel Goyone, Ã©crit en 13/8, et le trÃ¨s beau thÃ¨me de Zem Audu, <a href="https://zemaudu.bandcamp.com/album/visions">Vision</a>, Ã©crit en 11/8. Dans un cas comme dans l'autre il s'agit de mesures composÃ©es complexes :</p>
<ul>
<li>5/8+5/8+3/8 pour le premier</li>
<li>4/8+4/8+3/8 pour le second</li>
</ul>
<p>Ã‰videmmentÂ  il faudra indiquer aux musiciens la nature de cette composition et Ã  Lilypond comment disposer les ligatures des croches.</p>
<p>Ã€ peine Ã©voquÃ©e cette question sur la liste de discussion Lilypond je reÃ§oit une rÃ©ponse sous la forme d'une fonction dueÂ  Ã  l'inÃ©vitable Jean Abou Samra :</p>

<pre><code>#(set-object-property! 'inter-time-signature-padding 'backend-type? number?)</code><br><code>#(set-object-property! 'angularity 'backend-type? number?)</code><br><br><code>twoCompoundMeters =</code><br><code>#(define-music-function (args args2) (pair? pair?)</code><br><code>Â  Â (let* ((mlen (calculate-compound-measure-length args))</code><br><code>Â  Â  Â  Â  Â  (beat (calculate-compound-base-beat args))</code><br><code>Â  Â  Â  Â  Â  (beatGrouping (calculate-compound-beat-grouping args))</code><br><code>Â  Â  Â  Â  Â  (timesig (cons (ly:moment-main-numerator mlen)</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â (ly:moment-main-denominator mlen))))</code><br><code>Â  Â  Â #{</code><br><code>Â  Â  Â  Â \once \override Timing.TimeSignature.stencil =</code><br><code>Â  Â  Â  Â #(lambda (grob)</code><br><code>Â  Â  Â  Â  Â  (grob-interpret-markup grob</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â (make-concat-markup</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (list</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â (make-compound-meter-markup args)</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â (make-hspace-markup</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (ly:grob-property grob 'inter-time-signature-padding 0))</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â (make-parenthesize-markup</code><br><code>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  (make-compound-meter-markup args2))))))</code><br><code>Â  Â  Â  Â \set Timing.timeSignatureFraction = #timesig</code><br><code>Â  Â  Â  Â \set Timing.baseMoment = #beat</code><br><code>Â  Â  Â  Â \set Timing.beatStructure = #beatGrouping</code><br><code>Â  Â  Â  Â \set Timing.beamExceptions = #'()</code><br><code>Â  Â  Â  Â \set Timing.measureLength = #mlen</code><br><code>Â  Â  Â #}))</code><br><br><code>\layout {</code><br><code>Â  % Valeurs utiles Ã  ajuster</code><br><code>Â  \override Staff.TimeSignature.inter-time-signature-padding = 1.3</code><br><code>Â  \override Staff.TimeSignature.thickness = 1</code><br><code>Â  \override Staff.TimeSignature.width = 0.25</code><br><code>Â  \override Staff.TimeSignature.angularity = 0</code><br><code>}</code></pre>
<p>une fois collÃ©e cette fonction dans votre code (avant la musique) il suffira de remplacer par exemple :</p>
<pre><code>\time 11/8</code></pre>
<p>par</p>
<pre><code>\twoCompoundMeters #'((4 8) (4 8) (3 8)) #'(11 8)</code></pre>
<p>le rÃ©sultat :Â </p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/20/Vision-2.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/20/responsive/Vision-2-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/20/responsive/Vision-2-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/20/responsive/Vision-2-md.png 768w"  alt="" width="879" height="201"></figure>
<p>Â </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Liens dans la partitions</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/liens-dans-la-partitions.html"/>
        <id>https://myrealbook.vintherine.org/liens-dans-la-partitions.html</id>

        <updated>2021-11-22T10:07:30+01:00</updated>
            <summary>
                <![CDATA[
                    <p>Depuis qu'on affiche sur des tablettes plutÃ´t que de les imprimer les partitions sont devenues interactives. Avec Lilypond 3 instructions nous permettent d'en profiter pleinement.</p>
<h5>I - with-url, une ouverture sur le web</h5>
<p>Pour aller tÃ©lÃ©charger des partitions ou pour regarder une vidÃ©o, il suffit d'associer un markup avec une adresse web. Sous le titre des partitions proposÃ©es sur ce siteÂ  apparaissent quelquefois des liens vers une interprÃ©tation de rÃ©fÃ©rence. Par exemple :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/19//BreakfastWine.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/19//responsive/BreakfastWine-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/19//responsive/BreakfastWine-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/19//responsive/BreakfastWine-md.png 768w"  alt="Breakfast Wine" width="790" height="198"></figure>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Depuis qu'on affiche sur des tablettes plutÃ´t que de les imprimer les partitions sont devenues interactives. Avec Lilypond 3 instructions nous permettent d'en profiter pleinement.</p>
<h5>I - with-url, une ouverture sur le web</h5>
<p>Pour aller tÃ©lÃ©charger des partitions ou pour regarder une vidÃ©o, il suffit d'associer un markup avec une adresse web. Sous le titre des partitions proposÃ©es sur ce siteÂ  apparaissent quelquefois des liens vers une interprÃ©tation de rÃ©fÃ©rence. Par exemple :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/19//BreakfastWine.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/19//responsive/BreakfastWine-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/19//responsive/BreakfastWine-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/19//responsive/BreakfastWine-md.png 768w"  alt="Breakfast Wine" width="790" height="198"></figure>

<p>Le code :</p>
<pre><code>\header {</code><br><code>Â  title = "Breakfast Wine"</code><br><code>Â  asplayed = #"Bobby Shew" % doit Ãªtre commentÃ©e si vide</code><br><code>Â  url = #"https://www.youtube.com/watch?v=sNlNoqxGOLo"</code><br><code>Â  arranger = \markupÂ </code><br><code>Â  \with-url #url</code><br><code>Â  \with-color #blue \underline</code><br><code>Â  \concat { "(as played by " \fromproperty #'header:asplayed ")" }</code><br><code>Â  }</code></pre>
<p>N.B. voir <a href="https://myrealbook.vintherine.org/titres-a-la-realbook.html">cet article</a> au sujet des prÃ©sentations "Ã  la Realbook"Â Â </p>
<h5>II - page-link pour faire de belles pages de garde</h5>
<p>Si une partition contient plusieurs parties une jolie page d'accueil permettant d'accÃ©der Ã  chacune d'entre elles d'un simple clic sera bien plus ergonomique que de tourner des pages.Â </p>
<p>page-link s'emploie dans un markup avec comme paramÃ¨tre un simple numÃ©ro de page.Â </p>
<pre><code>\markup { \page-link #3 { Texte du lien vers la page 3 } }</code></pre>
<p>voici un exemple tirÃ© d'un recueil de partitions pour big band. Chaque nom d'instrument dans la liste est un lien amenant Ã  la bonne page.Â </p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/19/Cambios.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/19/responsive/Cambios-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/19/responsive/Cambios-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/19/responsive/Cambios-md.png 768w"  alt="" width="909" height="562"></figure>
<p>Â </p>
<p>la partie du code concernÃ©e :</p>
<pre>Â  Â  <code>\markup {</code><br><code>Â  Â  Â  \column { Â  Â  Â </code><br><code>Â  Â  Â  Â  \vspace #3</code><br><code>Â  Â  Â  Â  \fill-line { \fontsize #9 "Cambios" }</code><br><code>Â  Â  Â  Â  \fill-line { "Music for Little Big Band" }</code><br><code>Â  Â  Â  Â  \vspace #6 Â  Â  Â </code><br><code>Â  Â  Â  Â  \fontsize #4 {</code><br><code>Â  Â  Â  Â  Â  \page-link #2 \line Â { Â \hspace #10 \underline { Horn I \fontsize #-2 "(Alto Sax)" } }</code><br><code>Â  Â  Â  Â  Â  \vspace #0.3</code><br><code>Â  Â  Â  Â  Â  \page-link #6 \line Â { Â \hspace #10 \underline { Horn II \fontsize #-2 "(Tenor Sax)" } }</code><br><code>Â  Â  Â  Â  Â  \vspace #0.3</code><br><code>Â  Â  Â  Â  Â  \page-link #10 \line Â { Â \hspace #10 \underline { Horn III \fontsize #-2 "(Baryton Sax)" } }</code><br><code>Â  Â  Â  Â  Â  \vspace #0.3</code><br><code>Â  Â  Â  Â  Â  \page-link #14 \line Â { Â \hspace #10 \underline { Horn IV \fontsize #-2 "(Trumpet 1)" } }</code><br><code>Â  Â  Â  Â  Â  \vspace #0.3</code><br><code>Â  Â  Â  Â  Â  \page-link #18 \line Â { Â \hspace #10 \underline { Horn V \fontsize #-2 "(Trumpet 2)" } }</code><br><code>Â  Â  Â  Â  Â  \vspace #0.3</code><br><code>Â  Â  Â  Â  Â  \page-link #22 \line Â { Â \hspace #10 \underline { Horn VI \fontsize #-2 "(Trombone)" } }</code><br><code>Â  Â  Â  Â  Â  \vspace #0.3</code><br><code>Â  Â  Â  Â  Â  \page-link #26 \line Â { Â \hspace #10 \underline { Piano \fontsize #-2 "(or Guitare)" } }</code><br><code>Â  Â  Â  Â  Â  \vspace #0.3</code><br><code>Â  Â  Â  Â  Â  \page-link #30 \line Â { Â \hspace #10 \underline { Bass } }</code><br><code>Â  Â  Â  Â  }</code><br><code>Â  Â  Â  Â  \vspace #1</code><br><code>Â  Â  Â  Â  \override #'(line-width . 120)</code><br><code>Â  Â  Â  Â  \fontsize #2 \fill-line { " " "Lilypond sources embeded in pdf file" }</code><br><code>Â  Â  Â  }</code><br><code>Â  Â  }</code></pre>
<h5>III - with-link pour se dÃ©placer aisÃ©ment dans la partition</h5>
<p>La surface utile d'une tablette ordinaire Ã©tant tout juste Ã©quivalente Ã  la moitiÃ© d'une feuille a4 on est amenÃ© Ã  tourner les pages beaucoup plus frÃ©quemment. Bien sÃ»r cela peut se faire au pied avec un tourne-page bluetooth ou usb, mais quand il faut remonter 4 pages aprÃ¨s un D.C. al Coda puis les redescendre aussitÃ´t pour atteindre la susdite coda cela devient fastidieux. La solution ? Cliquer sur les liens que constituent les textes D.C. ou To Coda.</p>
<p>Cette technique s'apparente donc au page-link du chapitre prÃ©cÃ©dent Ã  ceci prÃ¨s qu'au lieu de donner un numÃ©ro de page en paramÃ¨tre on fera rÃ©fÃ©rence Ã  une Ã©tiquette prÃ©alablement Ã©tablie.</p>
<p>Par exemple :</p>
<pre>% une Ã©tiquette au Segno<br>\label #'Segno<br>\mark \markup \bold { \box { A } \musicglyph "scripts.varsegno" Â }<br><br>% puis plus tard<br>\mark \markup { \with-link #'Segno {  D.S. al Coda } }</pre>
            ]]>
        </content>
    </entry>
</feed>
