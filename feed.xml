<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>MyRealBook</title>
    <link href="https://myrealbook.vintherine.org/feed.xml" rel="self" />
    <link href="https://myrealbook.vintherine.org" />
    <updated>2021-12-24T17:16:18+01:00</updated>
    <author>
        <name>Vincent</name>
    </author>
    <id>https://myrealbook.vintherine.org</id>

    <entry>
        <title>Un peu de couleur</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/un-peu-de-couleur.html"/>
        <id>https://myrealbook.vintherine.org/un-peu-de-couleur.html</id>

        <updated>2021-12-24T17:16:18+01:00</updated>
            <summary>
                <![CDATA[
                    <p>À la lecture d'une grille harmonique un jazzman chevronné sait immédiatement ce que recouvre chaque accord et quelles gammes et arpèges il peut jouer. Un débutant devra au contraire étudier longuement sa partition, repérer les notes fortes, l'annoter et répéter inlassablement les enchaînements caractéristiques tels les II-V-I , les cadences plagale (IV-I), les marches harmoniques...</p>
<p>Lorsque j'étais moi-même débutant j'utilisais mes crayons de couleur pour repérer plus visuellement les tonalités, une peu comme ceci :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/21/LesPassantes.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/21/responsive/LesPassantes-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/21/responsive/LesPassantes-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/21/responsive/LesPassantes-md.png 768w"  alt="Les Passantes de Georges Brassens" width="793" height="391"></figure>
<p>Voyons comment faire ceci avec Lilypond.</p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>À la lecture d'une grille harmonique un jazzman chevronné sait immédiatement ce que recouvre chaque accord et quelles gammes et arpèges il peut jouer. Un débutant devra au contraire étudier longuement sa partition, repérer les notes fortes, l'annoter et répéter inlassablement les enchaînements caractéristiques tels les II-V-I , les cadences plagale (IV-I), les marches harmoniques...</p>
<p>Lorsque j'étais moi-même débutant j'utilisais mes crayons de couleur pour repérer plus visuellement les tonalités, une peu comme ceci :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/21/LesPassantes.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/21/responsive/LesPassantes-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/21/responsive/LesPassantes-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/21/responsive/LesPassantes-md.png 768w"  alt="Les Passantes de Georges Brassens" width="793" height="391"></figure>
<p>Voyons comment faire ceci avec Lilypond.</p>

<p>Commençons par écrire une partitions ordinaire avec une ou deux voix. Dans l'exemple ci-dessus j'utilise les notes fortes des accords (généralement tierces et septièmes) en guise de guide-ton. Dans chaque mesure j'indique par un changement de clef la tonalité induite par les accords.</p>
<p>Le style Realbook est utilisé comme à l'habitude mais n'est pas indispensable. Voir les posts  <a href="https://myrealbook.vintherine.org/a-propos-des-logiciels-deditions-utilises.html">À propos des logiciels</a>, (partie Lilyjazz) et <a href="https://myrealbook.vintherine.org/titres-a-la-realbook.html">Titres à la Realbook.</a></p>
<p>Pour avoir une barre de reprise avant la première mesure je triche par un \partial 256 s256 (penser à mettre ce s256 également avant les noms d'accords). Cela permet aussi d'indiquer la tonalité initiale à l'intérieur la première mesure. Pour éviter que ce silence ne prenne trop de place au début de la ligne  il est nécessaire d'indiquer à Lilypond d'écrire de façon proportionnelle par le code suivant :</p>
<pre><code>\layout { </code><br><code>  \context { </code><br><code>    \Score </code><br><code>    proportionalNotationDuration = #(ly:make-moment 1/10) </code><br><code>} }</code></pre>
<p>Venons-en maintenant au coloriage des mesures. Elle est possible grâce à la fonction staffColor écrite par Jean Abou Samra et postée dans la liste de discussion des utilisateurs francophones de lilypond. </p>
<pre><code>\version "2.22.1"</code><br><br><code>#(define (define-grob! grob-name grob-entry)</code><br><code>   (set! all-grob-descriptions</code><br><code>         (cons ((@@ (lily) completize-grob-entry)</code><br><code>                (cons grob-name grob-entry))</code><br><code>               all-grob-descriptions)))</code><br><br><code>#(define (staff-colorizer::print grob)</code><br><code>   (let* ((staff-symbol (ly:grob-object grob 'staff-symbol))</code><br><code>          (left (ly:spanner-bound grob LEFT))</code><br><code>          (right (ly:spanner-bound grob RIGHT))</code><br><code>          (refp (ly:grob-system grob))</code><br><code>          (spacing-pair (ly:grob-property grob 'spacing-pair))</code><br><code>          (coord-adjust (ly:grob-relative-coordinate grob refp X))</code><br><code>          (x-span (cons (- (interval-end (ly:paper-column::break-align-width</code><br><code>                                          left</code><br><code>                                          (car spacing-pair)))</code><br><code>                           coord-adjust)</code><br><code>                        (- (interval-start (ly:paper-column::break-align-width</code><br><code>                                            right</code><br><code>                                            (cdr spacing-pair)))</code><br><code>                           coord-adjust)))</code><br><code>          (y-span (ly:grob-extent staff-symbol staff-symbol Y)))</code><br><code>     (make-filled-box-stencil x-span y-span)))</code><br><br><code>#(define-grob!</code><br><code>   'StaffColorizer</code><br><code>   `((stencil . ,staff-colorizer::print)</code><br><code>     (layer . -1)</code><br><code>     (spacing-pair . (staff-bar . staff-bar))</code><br><code>     (meta . ((class . Spanner)</code><br><code>              (interfaces . (text-interface))))))</code><br><br><code>#(set-object-property! 'staffColor 'translation-type? color?)</code><br><br><code>#(define (Staff_colorizer_engraver context)</code><br><code>   (let ((current-color #f)</code><br><code>         (spanner #f))</code><br><code>     (make-engraver</code><br><code>       ((process-music engraver)</code><br><code>          (let ((color (ly:context-property context 'staffColor #f)))</code><br><code>            (if (and color</code><br><code>                     (not (equal? color current-color)))</code><br><code>                (let ((column (ly:context-property context 'currentCommandColumn)))</code><br><code>                  (set! current-color color)</code><br><code>                  (if spanner</code><br><code>                      (ly:spanner-set-bound! spanner RIGHT column))</code><br><code>                  (set! spanner (ly:engraver-make-grob engraver 'StaffColorizer '()))</code><br><code>                  (ly:grob-set-property! spanner 'color current-color)</code><br><code>                  (ly:spanner-set-bound! spanner LEFT column)))))</code><br><code>       ((finalize engraver)</code><br><code>          (if spanner</code><br><code>              (let ((column (ly:context-property context 'currentCommandColumn)))</code><br><code>                (ly:spanner-set-bound! spanner RIGHT column)))))))</code><br><br><code>\layout {</code><br><code>  \context {</code><br><code>    \Global</code><br><code>    \grobdescriptions #all-grob-descriptions</code><br><code>  }</code><br><code>  \context {</code><br><code>    \Staff</code><br><code>    \consists #Staff_colorizer_engraver</code><br><code>  }</code><br><code>}</code><br><br><code>staffColor = \set Staff.staffColor = \etc </code></pre>
<p>j'ai enregistré ce code dans un fichier staffColor.ly que j'appelle dans mes \include</p>
<p>Le code complet :</p>
<pre><code>\version "2.22.1"</code><br><code>#(set-global-staff-size 18)</code><br><code>\include "jazzchords.ily"</code><br><code>\include "lilyjazz.ily"</code><br><code>\include "staffColor.ly"</code><br><br><code>\paper {</code><br><code>  indent = 0\mm</code><br><code>  ragged-last-bottom = ##t</code><br><code>  ragged-bottom = ##f</code><br><code>  ragged-last = ##f</code><br><code>  markup-system-spacing = #'((basic-distance . 23)</code><br><code>                             (minimum-distance . 8)</code><br><code>                             (padding . 1))</code><br><code>}</code><br><br><code>title = #"Les passantes"</code><br><code>composer = #"Georges Brassens"</code><br><code>meter = #"(Ballad)"</code><br><br><code>realBookTitle = \markup {</code><br><code>  \score {</code><br><code>    {</code><br><code>      \override TextScript.extra-offset = #'(0 . -4.5)</code><br><code>      s4</code><br><code>      s^\markup {</code><br><code>        \fill-line {</code><br><code>          \fontsize #1 \lower #1 \rotate #7 \concat { " " #meter }</code><br><code>          \fontsize #4</code><br><code>          \override #'(offset . 9)</code><br><code>          \override #'(thickness . 6)</code><br><code>          \underline \larger \larger #title</code><br><code>          \fontsize #1 \lower #1 \concat { #composer " " }</code><br><code>        }</code><br><code>      }</code><br><code>      s</code><br><code>    }</code><br><code>    \layout {</code><br><code>      \omit Staff.Clef</code><br><code>      \omit Staff.TimeSignature</code><br><code>      \omit Staff.KeySignature</code><br><code>      ragged-right = ##f</code><br><code>    }</code><br><code>  }</code><br><code>}</code><br><br><code>voltaAdLib = \markup { 1. 2. 3… \italic \text "ad lib." }</code><br><code>voltaOnCue = \markup \small \text "Last X"</code><br><br><code>\header {</code><br><code>  pdftitle = #title</code><br><code>  pdfauthor = #composer</code><br><code>  title = \realBookTitle</code><br><code>  tagline = ##f</code><br><code>}</code><br><br><code>\layout {</code><br><code>  \context {</code><br><code>    \Score</code><br><code>    proportionalNotationDuration = #(ly:make-moment 1/10)</code><br><code>    \omit BarNumber</code><br><code>    startRepeatType = #"[|:"</code><br><code>    endRepeatType = #":|]"</code><br><code>    doubleRepeatType = #":|][|:"</code><br><code>    \override Clef #'break-visibility = #'#(#f #f #f)</code><br><code>    \override KeySignature #'break-visibility = #'#(#f #t #t)</code><br><code>    \override SystemStartBar #'collapse-height = #1</code><br><code>  }</code><br><code>  \context { </code><br><code>    \Staff</code><br><code>    printPartCombineTexts = ##f</code><br><code>    \consists "Merge_rests_engraver"</code><br><code>  }</code><br><code>  \context {</code><br><code>    \ChordNames</code><br><code>    \override ParenthesesItem.font-size = #2</code><br><code>  }</code><br><code>  \context { \Score markFormatter = #format-mark-box-alphabet }</code><br><code>}</code><br><br><br><code>accords = \chordmode {</code><br><code>  \set chordChanges = ##t</code><br><code>  s512</code><br><code>  f1:7+ e:7 a:7 d:7 d:m7 g:7 c:7+ e:7 </code><br><code>  f1:7+ e:7 a:7 d:7 a:m7 g:7 a:m7 g2:m7 c:7 a1:m </code><br><code>}</code><br><br><code>theNotes =  \relative c''' {</code><br><code>  \clef "treble" \time 4/4</code><br><code>  \partial 512 s512</code><br><code>  %\showStartBar \bar "[|:"</code><br><code>  \set Staff.explicitKeySignatureVisibility = ##(#f #t #t)</code><br><code>  \override Staff.KeyCancellation.break-visibility = #all-invisible </code><br><br><code>  \repeat volta 2</code><br><code>  {</code><br><code>    &lt;&lt; </code><br><code>      { \key f \major \staffColor aqua a1 </code><br><code>        \key a \major \staffColor pink  gis </code><br><code>        \key d \major \staffColor orange g! </code><br><code>        \key g \major \staffColor yellow fis \break </code><br><code>        \key c \major \staffColor Chartreuse f! f e </code><br><code>        \key a \major \staffColor pink d \break</code><br><code>        \key f \major \staffColor aqua e </code><br><code>        \key a \major \staffColor pink d </code><br><code>        \key d \major \staffColor orange cis </code><br><code>        \key g \major \staffColor yellow c! \break </code><br><code>        \once \override Staff.KeyCancellation.break-visibility = ##(#f #t #t)</code><br><code>        \key c \major \staffColor Chartreuse c b c  } </code><br><code>      \\ </code><br><code>      { e d cis c </code><br><code>        c b b gis</code><br><code>        a gis g! fis</code><br><code>        g f c </code><br><code>      } </code><br><code>    &gt;&gt;</code><br><code>  }</code><br><code>  \alternative {</code><br><code>    { </code><br><code>      \overrideProperty Score.VoltaBracket.text \voltaAdLib</code><br><code>      &lt;&lt; { \key f \major \staffColor aqua bes' } \\ { f2 e } &gt;&gt; }</code><br><code>    { </code><br><code>      \overrideProperty Score.VoltaBracket.text \voltaOnCue</code><br><code>      &lt;&lt; { \key c \major \staffColor Chartreuse c'1 } \\ { e,1 } &gt;&gt; \bar ".." }</code><br><code>  }</code><br><code>}</code><br><br><code>    \score {</code><br><code>      &lt;&lt;</code><br><code>        \new ChordNames { \accords }</code><br><code>        \new Staff \theNotes</code><br><code>      &gt;&gt;</code><br><code>} </code></pre>
<p> </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Mesures composées</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/mesures-composees.html"/>
        <id>https://myrealbook.vintherine.org/mesures-composees.html</id>

        <updated>2021-12-04T12:14:33+01:00</updated>
            <summary>
                <![CDATA[
                    <p>J'ai travaillé récemment sur des morceaux à la métrique un peu inhabituelle : Her Song de Daniel Goyone, écrit en 13/8, et le très beau thème de Zem Audu, <a href="https://zemaudu.bandcamp.com/album/visions">Vision</a>, écrit en 11/8. Dans un cas comme dans l'autre il s'agit de mesures composées complexes :</p>
<ul>
<li>5/8+5/8+3/8 pour le premier</li>
<li>4/8+4/8+3/8 pour le second</li>
</ul>
<p>Évidemment  il faudra indiquer aux musiciens la nature de cette composition et à Lilypond comment disposer les ligatures des croches.</p>
<p>À peine évoquée cette question sur la liste de discussion Lilypond je reçoit une réponse sous la forme d'une fonction due  à l'inévitable Jean Abou Samra :</p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>J'ai travaillé récemment sur des morceaux à la métrique un peu inhabituelle : Her Song de Daniel Goyone, écrit en 13/8, et le très beau thème de Zem Audu, <a href="https://zemaudu.bandcamp.com/album/visions">Vision</a>, écrit en 11/8. Dans un cas comme dans l'autre il s'agit de mesures composées complexes :</p>
<ul>
<li>5/8+5/8+3/8 pour le premier</li>
<li>4/8+4/8+3/8 pour le second</li>
</ul>
<p>Évidemment  il faudra indiquer aux musiciens la nature de cette composition et à Lilypond comment disposer les ligatures des croches.</p>
<p>À peine évoquée cette question sur la liste de discussion Lilypond je reçoit une réponse sous la forme d'une fonction due  à l'inévitable Jean Abou Samra :</p>

<pre><code>#(set-object-property! 'inter-time-signature-padding 'backend-type? number?)</code><br><code>#(set-object-property! 'angularity 'backend-type? number?)</code><br><br><code>twoCompoundMeters =</code><br><code>#(define-music-function (args args2) (pair? pair?)</code><br><code>   (let* ((mlen (calculate-compound-measure-length args))</code><br><code>          (beat (calculate-compound-base-beat args))</code><br><code>          (beatGrouping (calculate-compound-beat-grouping args))</code><br><code>          (timesig (cons (ly:moment-main-numerator mlen)</code><br><code>                         (ly:moment-main-denominator mlen))))</code><br><code>     #{</code><br><code>       \once \override Timing.TimeSignature.stencil =</code><br><code>       #(lambda (grob)</code><br><code>          (grob-interpret-markup grob</code><br><code>                                 (make-concat-markup</code><br><code>                                  (list</code><br><code>                                   (make-compound-meter-markup args)</code><br><code>                                   (make-hspace-markup</code><br><code>                                    (ly:grob-property grob 'inter-time-signature-padding 0))</code><br><code>                                   (make-parenthesize-markup</code><br><code>                                    (make-compound-meter-markup args2))))))</code><br><code>       \set Timing.timeSignatureFraction = #timesig</code><br><code>       \set Timing.baseMoment = #beat</code><br><code>       \set Timing.beatStructure = #beatGrouping</code><br><code>       \set Timing.beamExceptions = #'()</code><br><code>       \set Timing.measureLength = #mlen</code><br><code>     #}))</code><br><br><code>\layout {</code><br><code>  % Valeurs utiles à ajuster</code><br><code>  \override Staff.TimeSignature.inter-time-signature-padding = 1.3</code><br><code>  \override Staff.TimeSignature.thickness = 1</code><br><code>  \override Staff.TimeSignature.width = 0.25</code><br><code>  \override Staff.TimeSignature.angularity = 0</code><br><code>}</code></pre>
<p>une fois collée cette fonction dans votre code (avant la musique) il suffira de remplacer par exemple :</p>
<pre><code>\time 11/8</code></pre>
<p>par</p>
<pre><code>\twoCompoundMeters #'((4 8) (4 8) (3 8)) #'(11 8)</code></pre>
<p>le résultat : </p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/20/Vision-2.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/20/responsive/Vision-2-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/20/responsive/Vision-2-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/20/responsive/Vision-2-md.png 768w"  alt="" width="879" height="201"></figure>
<p> </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Liens dans la partitions</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/liens-dans-la-partitions.html"/>
        <id>https://myrealbook.vintherine.org/liens-dans-la-partitions.html</id>

        <updated>2021-11-22T10:07:30+01:00</updated>
            <summary>
                <![CDATA[
                    <p>Depuis qu'on affiche sur des tablettes plutôt que de les imprimer les partitions sont devenues interactives. Avec Lilypond 3 instructions nous permettent d'en profiter pleinement.</p>
<h5>I - with-url, une ouverture sur le web</h5>
<p>Pour aller télécharger des partitions ou pour regarder une vidéo, il suffit d'associer un markup avec une adresse web. Sous le titre des partitions proposées sur ce site  apparaissent quelquefois des liens vers une interprétation de référence. Par exemple :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/19//BreakfastWine.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/19//responsive/BreakfastWine-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/19//responsive/BreakfastWine-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/19//responsive/BreakfastWine-md.png 768w"  alt="Breakfast Wine" width="790" height="198"></figure>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Depuis qu'on affiche sur des tablettes plutôt que de les imprimer les partitions sont devenues interactives. Avec Lilypond 3 instructions nous permettent d'en profiter pleinement.</p>
<h5>I - with-url, une ouverture sur le web</h5>
<p>Pour aller télécharger des partitions ou pour regarder une vidéo, il suffit d'associer un markup avec une adresse web. Sous le titre des partitions proposées sur ce site  apparaissent quelquefois des liens vers une interprétation de référence. Par exemple :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/19//BreakfastWine.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/19//responsive/BreakfastWine-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/19//responsive/BreakfastWine-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/19//responsive/BreakfastWine-md.png 768w"  alt="Breakfast Wine" width="790" height="198"></figure>

<p>Le code :</p>
<pre><code>\header {</code><br><code>  title = "Breakfast Wine"</code><br><code>  asplayed = #"Bobby Shew" % doit être commentée si vide</code><br><code>  url = #"https://www.youtube.com/watch?v=sNlNoqxGOLo"</code><br><code>  arranger = \markup </code><br><code>  \with-url #url</code><br><code>  \with-color #blue \underline</code><br><code>  \concat { "(as played by " \fromproperty #'header:asplayed ")" }</code><br><code>  }</code></pre>
<p>N.B. voir <a href="https://myrealbook.vintherine.org/titres-a-la-realbook.html">cet article</a> au sujet des présentations "à la Realbook"  </p>
<h5>II - page-link pour faire de belles pages de garde</h5>
<p>Si une partition contient plusieurs parties une jolie page d'accueil permettant d'accéder à chacune d'entre elles d'un simple clic sera bien plus ergonomique que de tourner des pages. </p>
<p>page-link s'emploie dans un markup avec comme paramètre un simple numéro de page. </p>
<pre><code>\markup { \page-link #3 { Texte du lien vers la page 3 } }</code></pre>
<p>voici un exemple tiré d'un recueil de partitions pour big band. Chaque nom d'instrument dans la liste est un lien amenant à la bonne page. </p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/19/Cambios.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/19/responsive/Cambios-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/19/responsive/Cambios-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/19/responsive/Cambios-md.png 768w"  alt="" width="909" height="562"></figure>
<p> </p>
<p>la partie du code concernée :</p>
<pre>    <code>\markup {</code><br><code>      \column {      </code><br><code>        \vspace #3</code><br><code>        \fill-line { \fontsize #9 "Cambios" }</code><br><code>        \fill-line { "Music for Little Big Band" }</code><br><code>        \vspace #6      </code><br><code>        \fontsize #4 {</code><br><code>          \page-link #2 \line  {  \hspace #10 \underline { Horn I \fontsize #-2 "(Alto Sax)" } }</code><br><code>          \vspace #0.3</code><br><code>          \page-link #6 \line  {  \hspace #10 \underline { Horn II \fontsize #-2 "(Tenor Sax)" } }</code><br><code>          \vspace #0.3</code><br><code>          \page-link #10 \line  {  \hspace #10 \underline { Horn III \fontsize #-2 "(Baryton Sax)" } }</code><br><code>          \vspace #0.3</code><br><code>          \page-link #14 \line  {  \hspace #10 \underline { Horn IV \fontsize #-2 "(Trumpet 1)" } }</code><br><code>          \vspace #0.3</code><br><code>          \page-link #18 \line  {  \hspace #10 \underline { Horn V \fontsize #-2 "(Trumpet 2)" } }</code><br><code>          \vspace #0.3</code><br><code>          \page-link #22 \line  {  \hspace #10 \underline { Horn VI \fontsize #-2 "(Trombone)" } }</code><br><code>          \vspace #0.3</code><br><code>          \page-link #26 \line  {  \hspace #10 \underline { Piano \fontsize #-2 "(or Guitare)" } }</code><br><code>          \vspace #0.3</code><br><code>          \page-link #30 \line  {  \hspace #10 \underline { Bass } }</code><br><code>        }</code><br><code>        \vspace #1</code><br><code>        \override #'(line-width . 120)</code><br><code>        \fontsize #2 \fill-line { " " "Lilypond sources embeded in pdf file" }</code><br><code>      }</code><br><code>    }</code></pre>
<h5>III - with-link pour se déplacer aisément dans la partition</h5>
<p>La surface utile d'une tablette ordinaire étant tout juste équivalente à la moitié d'une feuille a4 on est amené à tourner les pages beaucoup plus fréquemment. Bien sûr cela peut se faire au pied avec un tourne-page bluetooth ou usb, mais quand il faut remonter 4 pages après un D.C. al Coda puis les redescendre aussitôt pour atteindre la susdite coda cela devient fastidieux. La solution ? Cliquer sur les liens que constituent les textes D.C. ou To Coda.</p>
<p>Cette technique s'apparente donc au page-link du chapitre précédent à ceci près qu'au lieu de donner un numéro de page en paramètre on fera référence à une étiquette préalablement établie.</p>
<p>Par exemple :</p>
<pre>% une étiquette au Segno<br>\label #'Segno<br>\mark \markup \bold { \box { A } \musicglyph "scripts.varsegno"  }<br><br>% puis plus tard<br>\mark \markup { \with-link #'Segno {  D.S. al Coda } }</pre>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Insérer un QR-Code dans un markup</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/inserer-un-qr-code-dans-une-partition.html"/>
        <id>https://myrealbook.vintherine.org/inserer-un-qr-code-dans-une-partition.html</id>

        <updated>2021-11-22T10:10:07+01:00</updated>
            <summary>
                <![CDATA[
                    <p>Sur la liste de discussion des utilisateurs francophones de Lilypond a été évoqué la possibilité mettre un QR-code avec une adresse web sur des partitions. En voilà une idée qu'elle est bonne. Et hop, exécution !</p>
<h5>I -  se documenter</h5>
<p>La page de référence est ici : <a href="http://lilypond.org/doc/v2.22/Documentation/notation/graphic">http://lilypond.org/doc/v2.22/Documentation/notation/graphic</a></p>
<p>C'est assez sommaire et pour une fois non traduit en français. </p>
<pre><code>\epsfile <var>axis</var> (number) <var>size</var> (number) <var>file-name</var> (string)  </code></pre>
<p>Inline an EPS image. The image is scaled along <var>axis</var> to <var>size</var>.</p>
<pre><code>\markup {
  \general-align #Y #DOWN {
    \epsfile #X #20 #"context-example.eps"
  }
}
</code></pre>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Sur la liste de discussion des utilisateurs francophones de Lilypond a été évoqué la possibilité mettre un QR-code avec une adresse web sur des partitions. En voilà une idée qu'elle est bonne. Et hop, exécution !</p>
<h5>I -  se documenter</h5>
<p>La page de référence est ici : <a href="http://lilypond.org/doc/v2.22/Documentation/notation/graphic">http://lilypond.org/doc/v2.22/Documentation/notation/graphic</a></p>
<p>C'est assez sommaire et pour une fois non traduit en français. </p>
<pre><code>\epsfile <var>axis</var> (number) <var>size</var> (number) <var>file-name</var> (string)  </code></pre>
<p>Inline an EPS image. The image is scaled along <var>axis</var> to <var>size</var>.</p>
<pre><code>\markup {
  \general-align #Y #DOWN {
    \epsfile #X #20 #"context-example.eps"
  }
}
</code></pre>

<p>Bien, on sait au moins qu'il est nécessaire que l'image générée soit au format eps !</p>
<h5>II - générer le QR-Code</h5>
<p>Les applications permettant de générer du QR-code sont légions, sans compter les sites Internet  soit-disant gratuit. Sous Linux <a href="https://launchpad.net/qr-tools">Qtqr</a> est une interface graphique à <a href="https://fukuchi.org/works/qrencode/manual/index.html">qrencode</a> et <a href="http://zbar.sourceforge.net/">zbar</a>. Il est facile d'emploi mais souffre de faiblesse au niveau du format de sortie : png comme seule format de fichier, pas de couleur... Alors pourquoi ne pas utiliser la ligne de commande ? Bien sûr il faudra consulter la page man de qrencode. ou consulter <a href="https://www.linux-magazine.com/Online/Features/Generating-QR-Codes-in-Linux">cette page sur Linux-Magazine</a>. Voilà la commande avec les options qui conviennent pour MyRealBook :</p>
<pre><code>qrencode -l Q -t EPS -o MyQR.eps https://myrealbook.vintherine.org</code></pre>
<p>- l'option -l permet de gérer la tolérance aux erreurs (LMQH) qui est à Low par défaut <br>- l'option -t permet de choisir le type de fichier en sortie<br>- l'option -o indique le nom et l'extension du fichier de sortie</p>
<h5>III - intégration dans Lilypond</h5>
<p>Pour plus de facilité on mettra le fichier eps dans le même répertoire que le fichier lilypond. </p>
<p>Le code :</p>
<pre><code>\version "2.22.1"</code><br>\header {<br>  title = "Essai de QR-Code"<br>  composer = \markup { <br>    \center-column { <br>      Vincent <br>      { \epsfile #X #10 #"MyQR.eps" }<br>    } <br>  }<br>  tagline = ##f<br>}<br><code>\repeat unfold 8 c'</code></pre>
<p>Le résultat :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/17/Vincent-Gay-Essai-de-QR-Code-2.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/17/responsive/Vincent-Gay-Essai-de-QR-Code-2-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/17/responsive/Vincent-Gay-Essai-de-QR-Code-2-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/17/responsive/Vincent-Gay-Essai-de-QR-Code-2-md.png 768w"  alt="" width="756" height="194"></figure>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Titres à la Realbook</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/titres-a-la-realbook.html"/>
        <id>https://myrealbook.vintherine.org/titres-a-la-realbook.html</id>

        <updated>2021-09-26T11:27:45+02:00</updated>
            <summary>
                <![CDATA[
                    <p>Si vous n'avez jamais ouvert un (old) Realbook de votre vie un titre ressemble à ça :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/16/document-Ca4.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/16/responsive/document-Ca4-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/16/responsive/document-Ca4-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/16/responsive/document-Ca4-md.png 768w"  alt="Titre à la Realbook" width="999" height="93"></figure>
<p>On doit cette imitation avec Lilypond à ​​Leigh Verlag sur cette page : <a href="http://leighverlag.blogspot.com/2015/12/mimicking-real-book-look.html">Mimicking the Real Book Look</a>. </p>
<p>L'idée de départ peut sembler un peu tordue mais est finalement assez simple : la variable <code>title</code> de la balise <code>\header</code> peut contenir un <code>\markup</code> qui peut contenir un <code>\score</code> (voir <a href="https://lilypond.org/doc/v2.22/Documentation/notation/music">ici</a>) ... qui peut contenir des <code>\markup</code>.</p>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Si vous n'avez jamais ouvert un (old) Realbook de votre vie un titre ressemble à ça :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/16/document-Ca4.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/16/responsive/document-Ca4-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/16/responsive/document-Ca4-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/16/responsive/document-Ca4-md.png 768w"  alt="Titre à la Realbook" width="999" height="93"></figure>
<p>On doit cette imitation avec Lilypond à ​​Leigh Verlag sur cette page : <a href="http://leighverlag.blogspot.com/2015/12/mimicking-real-book-look.html">Mimicking the Real Book Look</a>. </p>
<p>L'idée de départ peut sembler un peu tordue mais est finalement assez simple : la variable <code>title</code> de la balise <code>\header</code> peut contenir un <code>\markup</code> qui peut contenir un <code>\score</code> (voir <a href="https://lilypond.org/doc/v2.22/Documentation/notation/music">ici</a>) ... qui peut contenir des <code>\markup</code>.</p>

<p>Préalable : pour un look and feel realbook une bonne option est d'installer <a href="https://github.com/OpenLilyPondFonts/lilyjazz">Lilyjazz</a>. </p>
<p>Voici un exemple minimaliste commenté:</p>
<pre><code>\version "2.22.1"</code><br><code>#(set-global-staff-size 18)<br></code><br><code>% commentez la ligne suivante si lilyjazz n'est pas installé</code><br><code>\include "lilyjazz.ily"  </code><br><br><code>% variables<br>title = #"Titre de la pièce"</code><br><code>composer = #"compositeur"</code><br><code>meter = #"(Style)"</code><br><code>interprete = #"Interprète" </code><br><code>url = #"https://lilypond.org/"</code><br><br><code>realBookTitle = \markup {</code><br><code>  \score {</code><br><code>    {<br></code><br><code>     % décalage vertical du texte pour écrire dans la portée</code><br><code>      \override TextScript.extra-offset = #'(0 . -4.5)</code><br><code>      s4 % silence invisible</code><br><code>      s^\markup {</code><br><code>        \fill-line {<br>          % le style</code><br><code>          \fontsize #1 \lower #1 \rotate #7 \concat { " " #meter }<br>          % le titre</code><br><code>          \fontsize #4</code><br><code>          \override #'(offset . 9)</code><br><code>          \override #'(thickness . 6)</code><br><code>          \underline \larger \larger #title<br>          % le compositeur</code><br><code>          \fontsize #1 \lower #1 \concat { #composer " " }</code><br><code>      }  }</code><br><code>      s</code><br><code>    }</code><br><code>    \layout {</code><br><code>      \omit Staff.Clef % cacher la clef</code><br><code>      \omit Staff.TimeSignature % cacher la métrique</code><br><code>      \omit Staff.KeySignature % cacher l'armure</code><br><code>      indent = #0 % aligner la portée à gauche</code><br><code>      ragged-right = ##f % aligner la portée à doite</code><br><code>} } }</code><br><br><code>\header {</code><br><code>  title = \realBookTitle<br>  % interprète avec lien vers page web </code><br><code>  arranger = \markup </code><br><code>  \with-url #url</code><br><code>  \with-color #blue \underline</code><br><code>  \concat { "(as played by " #interprete ")" }</code><br><code>  tagline = ##f</code><br><code>}</code><br><br><code>\score {  </code><br><code>  \relative c'' {</code><br><code>    c4 c c c</code><br><code>} }</code></pre>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Silences multi-mesures</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/silences-multi-mesures.html"/>
        <id>https://myrealbook.vintherine.org/silences-multi-mesures.html</id>

        <updated>2021-09-26T11:32:49+02:00</updated>
            <summary>
                <![CDATA[
                    <p>En langage Lilypondien les silences durant 1 ou mesures entières s'expriment avec un R avec une durée indiquée comme une note ordinaire, par exemples R1 pour une mesure en 4/4 ou R2. pour une mesure en 3/4</p>
<p>voyez ci-dessous la différence avec un silence ordinaire, notamment l'alignement des pauses.</p>
<pre><code>{ \time 4/4 c''1 r1 R1 \time 3/4 c''2. r2. R2. }</code></pre>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/14/document-2.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/14/responsive/document-2-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/14/responsive/document-2-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/14/responsive/document-2-md.png 768w"  alt="Silences" width="618" height="106"></figure>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>En langage Lilypondien les silences durant 1 ou mesures entières s'expriment avec un R avec une durée indiquée comme une note ordinaire, par exemples R1 pour une mesure en 4/4 ou R2. pour une mesure en 3/4</p>
<p>voyez ci-dessous la différence avec un silence ordinaire, notamment l'alignement des pauses.</p>
<pre><code>{ \time 4/4 c''1 r1 R1 \time 3/4 c''2. r2. R2. }</code></pre>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/14/document-2.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/14/responsive/document-2-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/14/responsive/document-2-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/14/responsive/document-2-md.png 768w"  alt="Silences" width="618" height="106"></figure>

<p>Il est possible d'ajouter un multiplicateur à la durée mais pour les compresser il faut ajouter la commande <code>\compressMMRests { }</code></p>
<pre><code>{ \time 4/4 R1*4 \compressMMRests { R1*4 }\time 4/4 R1*4 }</code></pre>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/14/document-3.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/14/responsive/document-3-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/14/responsive/document-3-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/14/responsive/document-3-md.png 768w"  alt="Silences avec mutliplicateur" width="567" height="120"></figure>
<p>D'autres manières de faire seraient soit d'utiliser la commande <code><a href="https://lilypond.org/doc/v2.22/Documentation/notation/writing-parts#compressing-empty-measures">\compressEmptyMeasures </a></code>soit de modifier à true la valeur  <code><a href="https://lilypond.org/doc/v2.22/Documentation/notation/the-set-command">skipBars</a></code> dans le contexte score mais cela impacterait également le comportement de Lilypond dans les cas de notes excédant la durée d'une mesure.</p>
<p>Par défaut Lilypond représente par des « silences d’église » (ensembles de bâtons et rectangles) les silences d'une durée maximale de 10 mesures et par un seul silence allongé au delà. Cette valeur est stockée dans la variable MultiMeasureRest.expand-limit et peut être modifiée.</p>
<pre><code>{</code><br><code>  \time 4/4 \compressMMRests { R1*3 R1*7 R1*12 } \break</code><br><code>  \override MultiMeasureRest.expand-limit = #2</code><br><code>  \compressMMRests { R1*3 R1*7 R1*12 } </code><br><code>}</code></pre>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/14/document-4.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/14/responsive/document-4-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/14/responsive/document-4-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/14/responsive/document-4-md.png 768w"  alt="MultiMeasureRest.expand-limit" width="1176" height="267"></figure>
<p>Il est possible grâce à une fonction supplémentaire d'indiquer la durée au milieu de la portée dégageant ainsi l'espace au dessus de celle-ci. Cette manière de faire, utilisée notamment  dans les real books, peut rendre plus lisibles d'éventuels textes au dessus du silence.  Cette  fonction due à Robin Bannister est décrite <a title="https://lsr.di.unimi.it/LSR/Item?id=753">ici</a>. Elle est également incluse dans le fichier  jazzextras.ily du projet <a href="https://github.com/OpenLilyPondFonts/lilyjazz">lilyjazz</a>.</p>
<pre><code>\version "2.22.1"</code><br><br><code>\paper { </code><br><code>  indent = #0 </code><br><code>  ragged-last = ##f</code><br><code>}</code><br><br><code>#(define (white-under grob) (grob-interpret-markup grob </code><br><code>                                                   (markup #:vcenter #:whiteout #:pad-x 1 (ly:grob-property grob 'text))))</code><br><br><code>inlineMMRN = {</code><br><code>  \once \override MultiMeasureRest.layer = #-2</code><br><code>  \once \override MultiMeasureRestNumber.layer = #-1</code><br><code>  \once \override MultiMeasureRestNumber.Y-offset = #0</code><br><code>  \once \override MultiMeasureRestNumber.stencil = #white-under</code><br><code>}</code><br><br><br><code>{ </code><br><code>  \compressMMRests { </code><br><code>    \override MultiMeasureRest #'expand-limit = #3</code><br><code>    \repeat volta 2 {</code><br><code>      s1*0_\markup \pad-around #0.5 { \italic { affichage standard } }</code><br><code>      R1*30^\markup { [SOLOS] } }</code><br><code>    \repeat volta 2 {</code><br><code>      s1*0_\markup \pad-around #0.5 { \italic { avec inlineMMRN } }</code><br><code>      \inlineMMRN R1*30^\markup { [SOLOS] } }</code><br><code>  }</code><br><code>}</code></pre>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/14/document.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/14/responsive/document-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/14/responsive/document-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/14/responsive/document-md.png 768w"  alt="InlineMMRN" width="1167" height="171"></figure>
            ]]>
        </content>
    </entry>
    <entry>
        <title>Barres de reprises style Realbook</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/barres-de-reprises-style-realbook.html"/>
        <id>https://myrealbook.vintherine.org/barres-de-reprises-style-realbook.html</id>

        <updated>2021-09-26T11:33:54+02:00</updated>
            <summary>
                <![CDATA[
                    <p>Deux points distinguent la manière dont sont présentées les reprises dans les realbooks par rapport au traitement par défaut de Lilypond :</p>
<ol>
<li>les barres de reprises sont imprimées avec des crochets</li>
<li>Une barre de reprise est imprimé même au début de la partition</li>
</ol>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/13/Reprises.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/13/responsive/Reprises-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/13/responsive/Reprises-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/13/responsive/Reprises-md.png 768w"  alt="" width="1350" height="312"></figure>

                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Deux points distinguent la manière dont sont présentées les reprises dans les realbooks par rapport au traitement par défaut de Lilypond :</p>
<ol>
<li>les barres de reprises sont imprimées avec des crochets</li>
<li>Une barre de reprise est imprimé même au début de la partition</li>
</ol>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org/media/posts/13/Reprises.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/13/responsive/Reprises-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/13/responsive/Reprises-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/13/responsive/Reprises-md.png 768w"  alt="" width="1350" height="312"></figure>

<p>Pour le premier point il faut changer dans le contexte score les valeurs par défaut. Il faut également créer la combinaison double barre / saut de ligne / début de reprise pour remplacer le <code>".|:-||"</code> par défaut </p>
<pre><code>\layout {</code><br><code>  \context {</code><br><code>    \Score</code><br><code>    %% Changing the defaults from engraver-init.ly</code><br><code>    startRepeatType = #"[|:"</code><br><code>    endRepeatType = #":|]"</code><br><code>    doubleRepeatType = #":|][|:"</code><br><code>  }</code><br><code>}</code><br><code>\defineBarLine "||-[|:" #'("||" "[|:" "[|:") </code></pre>
<p>Pour le deuxième point c'est un peu plus compliqué : il faudra d'abord coller la fonction suivante :</p>
<pre><code>showStartRepeatBar = {</code><br><code>  \once \override Score.BreakAlignment.break-align-orders =</code><br><code>        #(make-vector 3 '(instrument-name</code><br><code>                          left-edge</code><br><code>                          ambitus</code><br><code>                          breathing-sign</code><br><code>                          clef</code><br><code>                          key-signature</code><br><code>                          time-signature</code><br><code>                          staff-bar</code><br><code>                          custos))</code><br><code>      \once \override Staff.TimeSignature.space-alist =</code><br><code>        #'((first-note . (fixed-space . 2.0))</code><br><code>           (right-edge . (extra-space . 0.5))</code><br><code>           ;; free up some space between time signature</code><br><code>           ;; and repeat bar line</code><br><code>           (staff-bar . (extra-space . 1)))</code><br><code>}</code></pre>
<p>puis y faire appel au début de la musique.  Notez que cette fonction est incluse dans le fichier jazzextras.ily du projet <a href="https://github.com/OpenLilyPondFonts/lilyjazz">lilyjazz</a>. Si vous avez installé ce dernier il suffit d'y faire référence par <code>\include "jazzextras.ily"</code></p>
<p>Le code complet (supprimez la ligne <code>\include "lilyjazz.ily"</code> si lilyjazz n'est pas installé)</p>
<pre><code>\version "2.22.1"</code><br><code>\include "lilyjazz.ily"</code><br><code>%\include "jazzextras.ily"</code><br><br><code>showStartRepeatBar = {</code><br><code>  \once \override Score.BreakAlignment.break-align-orders =</code><br><code>        #(make-vector 3 '(instrument-name</code><br><code>                          left-edge</code><br><code>                          ambitus</code><br><code>                          breathing-sign</code><br><code>                          clef</code><br><code>                          key-signature</code><br><code>                          time-signature</code><br><code>                          staff-bar</code><br><code>                          custos))</code><br><code>      \once \override Staff.TimeSignature.space-alist =</code><br><code>        #'((first-note . (fixed-space . 2.0))</code><br><code>           (right-edge . (extra-space . 0.5))</code><br><code>           ;; free up some space between time signature</code><br><code>           ;; and repeat bar line</code><br><code>           (staff-bar . (extra-space . 1)))</code><br><code>}</code><br><br><code>\layout {</code><br><code>  \context {</code><br><code>    \Score</code><br><code>    %% Changing the defaults from engraver-init.ly</code><br><code>    startRepeatType = #"[|:"</code><br><code>    endRepeatType = #":|]"</code><br><code>    doubleRepeatType = #":|][|:"</code><br><code>  }</code><br><code>}</code><br><code>\defineBarLine "||-[|:" #'("||" "[|:" "[|:") </code><br><br><code>\relative c'{</code><br><code>  \showStartRepeatBar \bar "[|:"  </code><br><code>\repeat volta 2 { </code><br><code>\repeat unfold 2 c1 }</code><br><code>  </code><br><code>\repeat volta 2 { </code><br><code>\repeat unfold 2 c }</code><br><code>  \alternative {</code><br><code>    { c }</code><br><code>    {</code><br><code>      c</code><br><code>    }</code><br><code>  }</code><br><code>  \bar "||-[|:" \break</code><br><code>  \repeat volta 2 { </code><br><code>\repeat unfold 2 c1 }</code><br><code>\repeat unfold 2 c1  </code><br><code>  \bar "|."</code><br><code>}</code></pre>
            ]]>
        </content>
    </entry>
    <entry>
        <title>À propos du blog (avertissement, hébergement, outils)</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/a-propos-du-blog-avertissement-outils-hebergement.html"/>
        <id>https://myrealbook.vintherine.org/a-propos-du-blog-avertissement-outils-hebergement.html</id>

        <updated>2021-09-22T18:10:49+02:00</updated>
            <summary>
                <![CDATA[
                    Avertissement Ce blog est essentiellement le reflet de mon activé en matière&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <h3>Avertissement</h3>
<p>Ce blog est essentiellement le reflet de mon activé en matière d'édition de partitions de jazz avec Lilypond pour laquelle je note quelques trucs et astuces. C'est donc tout à la fois un pense-bête personnel et un lieu de partage de mes maigres compétences. À ce titre j'attire l'attention du lecteur sur le fait que ce site ne peut en aucun cas remplacer la <a href="https://lilypond.org/manuals.fr.html">documentation officielle de Lilypond</a>. En complément je lui recommande chaudement de s'inscrire à la <a href="https://lists.gnu.org/mailman/listinfo/lilypond-user-fr">mailing list des utilisateurs francophone de Lilypond</a>  où il pourra correspondre avec de nombreux interlocuteurs compétents et d'une extraordinaire disponibilité. </p>
<h3>Hébergement</h3>
<p>Ce site est hébergé sur <a href="https://github.com/">Github</a>, qui est un service web collaboratif d'hébergement et de gestion de développement de logiciels, utilisant le logiciel de gestion de versions <a href="https://git-scm.com/">Git</a>. Même s'il est surtout connu pour ses hébergements de projets de logiciels libre il permet également, sous certaines conditions, d'héberger des sites web statiques : <a href="https://pages.github.com/">voir ici</a>. </p>
<p>À noter que depuis l'acquisition de Github par Microsoft en 2018 deux cas de fermetures de compte liés à des problèmes de DRM (Youtube-dl, Widevine) ont provoqués un certain trouble dans la communauté des libristes. Dans ce contexte utiliser Github pour partager des partitions peut ne pas être une solution très indiquée. Peut-être devrais-je migrer sur <a href="https://docs.gitlab.com/ee/user/project/pages/">Gitlab</a> ? En attendant je me suis contenté de demander aux moteurs de recherche de ne pas l'indexer (NoIndex NoFollow) ce qui en restreint la diffusion au seul bouche à oreilles.</p>
<h3>Outils</h3>
<p>Quand on pense aux systèmes de gestion de contenu web on pense d'abord à des gros projets tels Wordpress, Dotclear, Drupal... tous basés sur php et une base de donnée. Pourtant faire un site web statique est une idée qui refait son chemin aujourd'hui : plus rapide, plus économique, plus écologique, moins sujet aux bugs et au piratage... Et même s'ils sont moins connus que les géants évoqués ci-dessus existent d’excellents générateurs de sites statiques tels <a href="https://jekyllrb.com/">Jekyll</a>, <a href="https://gohugo.io/">Hugo</a>, <a href="https://blog.getpelican.com/">Pelican</a>... Après en avoir testé quelques-uns j'ai choisi <a href="https://getpublii.com/">Publii</a> qui m'a semblé être le plus facile à prendre en main grâce à son interface graphique. Et bien sûr il gère parfaitement les mises à jour sur Github ou Gitlab.</p>
<p>Les pages relatives aux partitions sont générés et mises à jour automatiquement par un petit script bash à base de grep et de sed, qui extrait des données des fichiers Lilypond puis les colle dans une page modèle réalisé avec Publii. </p>
<p> </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>À propos de moi (et comment me contacter)</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/a-propos-de-moi-et-comment-me-contacter.html"/>
        <id>https://myrealbook.vintherine.org/a-propos-de-moi-et-comment-me-contacter.html</id>

        <updated>2021-09-20T18:42:48+02:00</updated>
            <summary>
                <![CDATA[
                    Je m'appelle Vincent Gay, je suis un musicien amateur (saxophone, clarinette, guitare&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <p>Je m'appelle Vincent Gay, je suis un musicien amateur (saxophone, clarinette, guitare basse...) et j'habite un petit village de montagne dans le sud de l'<a href="https://fr.wikipedia.org/wiki/Is%C3%A8re_(d%C3%A9partement)">Isère</a> (France) tout près du <a href="https://fr.wikipedia.org/wiki/Parc_national_des_%C3%89crins">parc national des Écrins</a>. </p>
<p>Pour me contacter à propos de ce site ou des partitions qu'il contient vous pouvez m'écrire à myrealbook à vintherine point org</p>
<p>S'il s'agit de questions questions concernant Lilypond je suis également contributeur occasionnel sur la <a href="https://lists.gnu.org/mailman/listinfo/lilypond-user-fr">liste des utilisateurs francophones de Lilypond</a>.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>À propos des logiciels d&#x27;éditions utilisés</title>
        <author>
            <name>Vincent</name>
        </author>
        <link href="https://myrealbook.vintherine.org/a-propos-des-logiciels-deditions-utilises.html"/>
        <id>https://myrealbook.vintherine.org/a-propos-des-logiciels-deditions-utilises.html</id>

        <updated>2021-09-22T14:30:25+02:00</updated>
            <summary>
                <![CDATA[
                    Propos liminaires tous les logiciels évoqués ci-dessous sont des logiciels libres au&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                <h3>Propos liminaires</h3>
<p>tous les logiciels évoqués ci-dessous sont des logiciels libres au sens de la Free Software Foundation. Voir <a href="https://www.fsf.org/">ici</a> ou <a href="https://fr.wikipedia.org/wiki/Logiciel_libre">là</a>. </p>
<h3 id="toc_lilypond">Lilypond</h3>
<p>Bien loin des clicodromes standards, <a href="http://lilypond.org/index.fr.html" target="_blank" rel="noopener noreferrer">Lilypond</a> est un langage descriptif permettant de produire un fichier source qui sera ensuite compilé. Il faut donc apprendre une syntaxe et de nombreuses règles… qui sont susceptibles d'évoluer d'une version à l'autre.</p>
<p>Pour faire court, l'intérêt principal que je trouve à Lilypond, c'est de pouvoir faire exactement ce que je veux avec une qualité de sortie irréprochable.  Comme par exemple ceci :</p>
<figure class="post__image" ><img loading="lazy" src="https://myrealbook.vintherine.org/media/posts/6/5f47fa692c1c4928bc7ef664202204a5.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/6/responsive/5f47fa692c1c4928bc7ef664202204a5-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/6/responsive/5f47fa692c1c4928bc7ef664202204a5-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/6/responsive/5f47fa692c1c4928bc7ef664202204a5-md.png 768w"  alt="" width="1523" height="426">
<figcaption >Breakfast Wine (Randy Aldcroft)</figcaption>
</figure>
<p>ou ceci :</p>
<figure class="post__image"><img loading="lazy"  src="https://myrealbook.vintherine.org//media/posts/6/1f9ff908e3cd4be0a0d2079238bf8f0b-4.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org//media/posts/6/responsive/1f9ff908e3cd4be0a0d2079238bf8f0b-4-xs.png 300w ,https://myrealbook.vintherine.org//media/posts/6/responsive/1f9ff908e3cd4be0a0d2079238bf8f0b-4-sm.png 480w ,https://myrealbook.vintherine.org//media/posts/6/responsive/1f9ff908e3cd4be0a0d2079238bf8f0b-4-md.png 768w"  alt="" width="1517" height="588"></figure>
<h3 id="toc_frescobaldi">Frescobaldi</h3>
<p>Pour utiliser Lilypond il suffit, a priori, d'un éditeur de texte, d'un terminal et d'une visionneuse poscript/pdf pour voir le résultat. Optionnellement, un lecteur midi car Lilypond sait aussi produire du midi. Par bonheur il exite un logiciel qui permet de faire tout ceci dans la même fenêtre, <a href="http://frescobaldi.org/">Frescobaldi</a>.</p>
<p>C'est un éditeur de texte dédié à LilyPond, avec coloration syntaxique, visionneuse PDF et lecteur midi intégrés. La fonction « point and click » permet de rapidement retrouver la correspondance entre le PDF et le code, et ce dans les deux sens. Quelques palettes d'outils permettent un accès rapide à des symboles dont on aurait oublié la syntaxe et on peut afficher la documentation Lilypond à partir d'un emplacement local ou d'une URL. Les différents panneaux qui le composent peuvent être ancrés à la fenêtre principale ou détachés, ce qui est bien pratique quand on a un double écran. Il ne fait pas le café, c'est à mes yeux son seul défaut. </p>
<h3 id="toc_lilyjazz">LilyJazz et autres fichiers inclus</h3>
<p>Coté look and file j'ai trouvé amusant d'imiter le style Real Book grace au projet <a href="https://github.com/OpenLilyPondFonts/lilyjazz" target="_blank" rel="noopener noreferrer">LilyJazz</a>. Il vous faudra copier les polices dans le répertoire fonts de Lilypond et ce à chaque changement de version (oui, c'est pénible) et indiquer à Frescobaldi ou trouver les feuilles de style ( Menu Édition -&gt; Préférences -&gt; Préférences de Lilypond -&gt; Emplacement d'inclusion Lilypond). Comme j'ai personnalisé ces fichiers et en ai rajouté quelques autres j'ai tout mis dans <a href="https://myrealbook.vintherine.org/media/files/Inclusions.zip">un zip disponible ici</a>. Libre à vous de ne pas les utiliser mais il vous faudra nettoyer le code avant compilation ou subir des messages d'erreur.</p>
<h3>Musescore</h3>
<p>Pour dégrossir une partition, un arrangement ou pour composer j'utilise <a href="https://musescore.org/fr">Musescore</a> qui est un logiciel d'édition de partitions WISIWIG puissant et facile à utiliser. Il est possible d'importer ou exporter au format MusixXML ce qui permet de faire le lien avec Lilypond.</p>
            ]]>
        </content>
    </entry>
</feed>
