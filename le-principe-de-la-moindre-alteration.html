<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
            <title>Le principe de la moindre altÃ©ration - MyRealBook </title>
        
        <meta name="robots" content="noindex,nofollow" />
        <meta name="generator" content="Publii Open-Source CMS for Static Site" />
        
        
        <link rel="alternate" type="application/atom+xml" href="https://myrealbook.vintherine.org/feed.xml" />
<link rel="alternate" type="application/json" href="https://myrealbook.vintherine.org/feed.json" />

        <meta property="og:title" content="Le principe de la moindre altÃ©ration" /><meta property="og:site_name" content="MyRealBook" /><meta property="og:description" content="Une particularitÃ© de Lilypond est de pouvoir stocker des fragments musicaux dans des variables et de pouvoir les rÃ©utiliser oÃ¹ bon nous semble et comme bon nous semble. En les transposant notamment. Mais par dÃ©faut le rÃ©sultat n'est pas toujours lisible !Pour les notes il suffitÂ  souvent d'un peu d'astuce. Par exemple si l'on veut transposer un Laâ™¯ d'une tierce mineure en dessous (transposer une partie de violon pour un saxophone alto) cela nous donnera un Fağ„ª mais si on le transpose d'une seconde augmentÃ©e (1 ton Â½ Ã©galement) cela nous donnera un Sol. Voici ce que donne ce principe appliquÃ© Ã  la gamme de Si majeur (code ci-dessous)Transposition pour saxophonesÂ " /><meta property="og:url" content="https://myrealbook.vintherine.org/le-principe-de-la-moindre-alteration.html" /><meta property="og:type" content="article" />
        <style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:var(--body-font);--logo-font:var(--body-font);--menu-font:var(--body-font)}</style>
        <link rel="stylesheet" href="https://myrealbook.vintherine.org/assets/css/style.css?v=489237eb5e2f09dd77c9332d52b3a5e5">       
        <script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://myrealbook.vintherine.org/le-principe-de-la-moindre-alteration.html"},"headline":"Le principe de la moindre altÃ©ration","datePublished":"2022-01-22T22:27","dateModified":"2022-01-23T08:44","description":"Une particularitÃ© de Lilypond est de pouvoir stocker des fragments musicaux dans des variables et de pouvoir les rÃ©utiliser oÃ¹ bon nous semble et comme bon nous semble. En les transposant notamment. Mais par dÃ©faut le rÃ©sultat n'est pas toujours lisible !Pour les notes il suffitÂ  souvent d'un peu d'astuce. Par exemple si l'on veut transposer un Laâ™¯ d'une tierce mineure en dessous (transposer une partie de violon pour un saxophone alto) cela nous donnera un Fağ„ª mais si on le transpose d'une seconde augmentÃ©e (1 ton Â½ Ã©galement) cela nous donnera un Sol. Voici ce que donne ce principe appliquÃ© Ã  la gamme de Si majeur (code ci-dessous)Transposition pour saxophonesÂ ","author":{"@type":"Person","name":"Vincent"},"publisher":{"@type":"Organization","name":"Vincent"}}</script>        
        
        <link type="application/atom+xml" rel="alternate" href="https://myrealbook.vintherine.org/feed.xml"/>
<link type="application/json" rel="alternate" href="https://myrealbook.vintherine.org/feed.json"/> 
    </head>
    <body>
        <header class="header" id="js-header">

   <a href="https://myrealbook.vintherine.org/" class="logo">
         MyRealBook
   </a>

      <nav class="navbar js-navbar">
         <button class="navbar__toggle js-toggle" aria-label="Menu">
            <span class="navbar__toggle-box">
               <span class="navbar__toggle-inner">Menu</span>
            </span>
         </button>
         <ul class="navbar__menu">
                  <li>
                  <a
                     href="https://myrealbook.vintherine.org/index.html"
                        target="_self"
         >
                     Blog
                  </a>
         
            </li>
                  <li>
                  <a
                     href="https://myrealbook.vintherine.org/myrealbook-les-partitions.html"
                        target="_self"
         >
                     Partitions
                  </a>
         
            </li>
                  <li>
                  <a
                     href="https://myrealbook.vintherine.org/about.html"
                        target="_self"
         >
                     Ã€ propos
                  </a>
         
            </li>
                  <li>
                  <a
                     href="https://myrealbook.vintherine.org/feed.xml"
                        target="_self"
         >
                     Flux RSS
                  </a>
         
            </li>
         </ul>      </nav>

      <div class="search">
          <div class="search__overlay js-search-overlay">
            <form action="https://myrealbook.vintherine.org/search.html" class="search__form">
               <input
                  class="search__input js-search-input"
                  type="search"
                  name="q"
                  aria-label="Search input" 
                  placeholder="search..."
                  autofocus="autofocus"/>
               <button class="search__submit">Search</button>
            </form>
         </div>
         <button
            class="search__btn js-search-btn"
            aria-label="Search">
            <svg role="presentation" focusable="false" height="18" width="18">
               <use xlink:href="https://myrealbook.vintherine.org/assets/svg/svg-map.svg#search"/>
            </svg>
         </button>
      </div>

</header>
<main>
   <div class="wrapper">
         <article class="post">
            <header class="post__header">
               <h1 class="post__title">
                  Le principe de la moindre altÃ©ration
               </h1>
                  <div class="post__meta">
                        <div class="post__author">By
                              <a href="https://myrealbook.vintherine.org/authors/vincent/" class="invert" rel="author" title="Vincent">Vincent</a>
                        </div>

                  </div>
            </header>

            <div class="post__inner">
               <div class="post__entry">
                  <p>Une particularitÃ© de Lilypond est de pouvoir stocker des fragments musicaux dans des variables et de pouvoir les rÃ©utiliser oÃ¹ bon nous semble et comme bon nous semble. En les transposant notamment. Mais par dÃ©faut le rÃ©sultat n'est pas toujours lisible !</p>
<p>Pour les notes il suffitÂ  souvent d'un peu d'astuce. Par exemple si l'on veut transposer un Laâ™¯ d'une tierce mineure en dessous (transposer une partie de violon pour un saxophone alto) cela nous donnera un Fa<span class="wdg-select-all-ok">ğ„ª mais si on le transpose d'une seconde augmentÃ©e (1 ton Â½ Ã©galement) cela nous donnera un Sol. Voici ce que donne ce principe appliquÃ© Ã  la gamme de Si majeur (code ci-dessous)</span></p>
<figure class="post__image" ><img loading="lazy" src="https://myrealbook.vintherine.org/media/posts/26/document-3.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/26/responsive/document-3-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/26/responsive/document-3-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/26/responsive/document-3-md.png 768w"  alt="" width="570" height="300">
<figcaption >Transposition pour saxophones</figcaption>
</figure>
<p>Â </p>

<pre>\version "2.22.1"<br><br>theNotes = \relative c' {Â <br>Â  \key b \major<br>Â  b4 cis dis e fis gis ais b~ | 1 }<br><br>\layout {<br>Â  indent = 5\cm<br>}<br><br>\score {<br>Â  &lt;&lt;<br>Â  Â  \new Staff \with {Â <br>Â  Â  Â  instrumentName = \markup {<br>Â  Â  Â  Â  \center-column { "Instruments"<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â \line { "en Do" } } } }<br>Â  Â  \theNotes<br>Â  Â  \new Staff \with {Â <br>Â  Â  Â  instrumentName = \markup {<br>Â  Â  Â  Â  \center-column { \line { "Instrument en Si" \smaller \flat }<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â \line { "\\transpose c d (1 ton)" } } } }<br>Â  Â  \transpose c d \theNotes<br>Â  Â  \new Staff \with {Â <br>Â  Â  Â  instrumentName = \markup {<br>Â  Â  Â  Â  \center-column { \line { "Instrument en Si" \smaller \flat }<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â \line { "\\transpose c eses (1 ton)" } } } }<br>Â  Â  \transpose c eses \theNotes<br>Â  Â  \new Staff \with {Â <br>Â  Â  Â  instrumentName = \markup {<br>Â  Â  Â  Â  \center-column { \line { "Instrument en Mi" \smaller \flat }<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â \line { "\\transpose c a (4 tons Â Â½)" } } } }<br>Â  Â  \transpose c a \theNotes<br>Â  Â  \new Staff \with {Â <br>Â  Â  Â  instrumentName = \markup {<br>Â  Â  Â  Â  \center-column { \line { "Instrument en Mi" \smaller \flat }<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â \line { "\\transpose c beses (4 tons Â Â½)" } } } }<br>Â  Â  \transpose c beses \theNotes<br>Â  &gt;&gt;<br>}</pre>
<p>Pour les accords le mÃªme problÃ¨me se pose mais est un petit peu plus compliquÃ© Ã  rÃ©soudre en utilisant la propriÃ©tÃ© chordRootNamer (voir code ci-dessous et <a href="https://lilypond.org/doc/v2.23/Documentation/notation/displaying-chords.fr.html">cette page de documentation</a>) . Ici ce n'est plus l'intervalle de transposition qui varie mais directement la base de l'accord via un double procÃ©dÃ© enharmonique. Merci encore Jean.</p>
<figure class="post__image" ><img loading="lazy" src="https://myrealbook.vintherine.org/media/posts/26/document-4.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://myrealbook.vintherine.org/media/posts/26/responsive/document-4-xs.png 300w ,https://myrealbook.vintherine.org/media/posts/26/responsive/document-4-sm.png 480w ,https://myrealbook.vintherine.org/media/posts/26/responsive/document-4-md.png 768w"  alt="" width="583" height="303">
<figcaption >Fm7 c'est plus intuitif que Eâ™¯m7 n'est-ce-pas ?</figcaption>
</figure>
<p>Â </p>
<pre>\version "2.22.1"<br><br>#(use-modules (ice-9 match))<br><br>#(define enharmonization<br>Â  Â #((0 . 0) ; Câ™®<br>Â  Â  Â  Â  Â  Â  Â (0 . 1/2) ; Dâ™­ â†’ C â™¯<br>Â  Â  Â  Â  Â  Â  Â (1 . 0) ; Dâ™®<br>Â  Â  Â  Â  Â  Â  Â (2 . -1/2) ; Dâ™¯ â†’ Eâ™­<br>Â  Â  Â  Â  Â  Â  Â (2 . 0) ; Eâ™®<br>Â  Â  Â  Â  Â  Â  Â (3 . 0) ; Fâ™®<br>Â  Â  Â  Â  Â  Â  Â (3 . -1/2) ; Gâ™­ â†’ Fâ™¯<br>Â  Â  Â  Â  Â  Â  Â (4 . 0) ; Gâ™®<br>Â  Â  Â  Â  Â  Â  Â #f ; Gâ™¯/Aâ™­<br>Â  Â  Â  Â  Â  Â  Â (5 . 0) ; Aâ™®<br>Â  Â  Â  Â  Â  Â  Â (6 . -1/2) ; Aâ™¯ â†’ Bâ™­<br>Â  Â  Â  Â  Â  Â  Â (6 . 0) ; Bâ™®<br>Â  Â  Â  Â  Â  Â  Â ))<br><br>#(define (enharmonize pitch)<br>Â  Â (let* ((semitones (ly:pitch-semitones pitch))<br>Â  Â  Â  Â  Â  (normalized-semitones (modulo semitones 12))<br>Â  Â  Â  Â  Â  (eventual-octave (* 1/12 (- semitones normalized-semitones))))<br>Â  Â  Â (match (vector-ref enharmonization normalized-semitones)<br>Â  Â  Â  Â  Â  Â  ((best-name . best-alteration)<br>Â  Â  Â  Â  Â  Â  Â (ly:make-pitch eventual-octave best-name best-alteration))<br>Â  Â  Â  Â  Â  Â  (#f<br>Â  Â  Â  Â  Â  Â  Â ;; Gâ™¯/Aâ™­<br>Â  Â  Â  Â  Â  Â  Â (if (positive? (ly:pitch-alteration pitch))<br>Â  Â  Â  Â  Â  Â  Â  Â  Â (ly:make-pitch eventual-octave 4 1/2)<br>Â  Â  Â  Â  Â  Â  Â  Â  Â (ly:make-pitch eventual-octave 5 -1/2))))))<br><br>%% Tests<br>#(for-each<br>Â  (match-lambda<br>Â  Â ((input output)<br>Â  Â  (let ((processed (enharmonize input)))<br>Â  Â  Â  (if (not (equal? output (enharmonize input)))<br>Â  Â  Â  Â  Â  (ly:error "~s -&gt; ~s: bad output, expected ~s" input processed output)))))<br>Â  `((,#{ c #} ,#{ c #})<br>Â  Â  (,#{ cis #} ,#{ cis #})<br>Â  Â  (,#{ des #} ,#{ cis #})<br>Â  Â  (,#{ des'' #} ,#{ cis'' #})<br>Â  Â  (,#{ bisis #} ,#{ cis' #})<br>Â  Â  (,#{ eeses #} ,#{ d #})<br>Â  Â  (,#{ gis,, #} ,#{ gis,, #})<br>Â  Â  (,#{ aes,, #} ,#{ aes,, #})<br>Â  Â  (,#{ fisis,, #} ,#{ g,, #})))<br><br>\layout {<br>Â  indent = 4\cm<br>}<br><br>theNotes = { \repeat unfold 6 { R1 } }<br>theChords = \chordmode { gis1:m7 cis:7 fis:7+ g:m7 c:7 f:7+}<br><br>\score {<br>Â  &lt;&lt;<br>Â  Â  \new ChordNames \theChords<br>Â  Â  \new Staff \with {Â <br>Â  Â  Â  instrumentName = \markup {<br>Â  Â  Â  Â  \center-column { "Instruments"<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â \line { "en Do" } } } }<br>Â  Â  \theNotes<br>Â  &gt;&gt;<br>}<br><br>\score {<br>Â  &lt;&lt;<br>Â  Â  \new ChordNames \transpose c a \theChords<br>Â  Â  \new Staff \with {Â <br>Â  Â  Â  instrumentName = \markup {<br>Â  Â  Â  Â  \center-column { \concat { "Pour inst. en Mi" \smaller \flat}<br>  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â \line { "sans enharmonisation" } } } }<br>Â  \theNotes<br>Â  &gt;&gt;<br>}Â <br><br>\score {<br>Â  &lt;&lt;<br>Â  Â  \new ChordNames \transpose c a \theChords<br>Â  Â  \new Staff \with {Â <br>Â  Â  Â  instrumentName = \markup {<br>Â  Â  Â  Â  \center-column { \concat { "Pour inst. en Mi" \smaller \flat}<br>  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â \line { "avec enharmonisation" } } } }Â <br>Â  Â  \theNotes<br>Â  &gt;&gt;<br>Â  \layout {<br>Â  Â  \context {<br>Â  Â  Â  \ChordNames<br>Â  Â  Â  chordRootNamer =<br>Â  Â  Â  #(lambda (pitch lowercase)<br>Â  Â  Â  Â  Â (note-name-&gt;markup (enharmonize pitch)<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  lowercase))<br>Â  Â  }<br>Â  }<br>}Â </pre>
               </div>
                  <footer>


                        <div class="post__tags-share">

                        </div>


                  </footer>
            </div>
         </article>



   </div>

</main>
<footer class="footer">
      <div class="footer__copyright">
         <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Licence Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a><br />Tous les textes, images et codes sources Lilypond contenus dans ce site sont mis Ã  disposition selon les termes de la <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Licence Creative Commons Attribution -  Partage dans les MÃªmes Conditions 4.0 International</a>.
      </div>
</footer>
<script>
   window.publiiThemeMenuConfig = {    
      mobileMenuMode: 'sidebar',
      animationSpeed: 300,
      submenuWidth: 'auto',
      doubleClickTime: 500,
      mobileMenuExpandableSubmenus: true, 
      relatedContainerForOverlayMenuSelector: '.navbar',
   };
</script>
<script defer src="https://myrealbook.vintherine.org/assets/js/scripts.min.js?v=8b3e67b51e8c7a7d51b33f4a94ae4287"></script>
   <script>        
      var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }
   </script>


</body>
</html>
